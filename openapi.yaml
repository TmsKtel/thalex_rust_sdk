openapi: 3.1.0
servers:
- url: https://thalex.com/api/v2
  description: Exchange
- url: https://testnet.thalex.com/api/v2
  description: Testnet
info:
  description: Talex API documentation
  title: Thalex API Description
  version: 2.49.0
tags:
- name: Trading
  description: Trading
- name: Conditional orders
  description: Conditional orders
- name: Bot management
  description: Bot management
- name: Request for Quote
  description: Request for Quote
- name: Request for Quote (MM)
  description: Request for Quote (MM)
- name: Accounting
  description: Accounting
- name: Notifications
  description: Notifications
- name: Market data
  description: Market data
- name: Wallet
  description: Wallet
- name: System info
  description: System info
- name: Historical data
  description: Historical data
components:
  schemas:
    ErrorResponse:
      type: object
      properties:
        error:
          type: object
          required:
          - code
          - message
          description: Error code and message.
          properties:
            code:
              type: integer
            message:
              type: string
    RpcRequest:
      type: object
      properties:
        id:
          type: object
          description: Your request id, optional.
      example: {}
    RpcResponse:
      type: object
      properties:
        id:
          type: object
          description: Your request id, or null if not supplied.
    RpcErrorResponse:
      type: object
      allOf:
      - $ref: '#/components/schemas/RpcResponse'
      - $ref: '#/components/schemas/ErrorResponse'
    Nothingness:
      type: 'null'
      description: Represents a null value.
      example: null
    EmptyObject:
      type: object
      description: Empty object.
    OrderStatus:
      type: object
      description: Order status.
      required:
      - order_id
      - direction
      - amount
      - filled_amount
      - remaining_amount
      - status
      - fills
      - change_reason
      - insert_reason
      - create_time
      - order_type
      - time_in_force
      - persistent
      properties:
        order_id:
          type: string
          description: System order ID, use to identify in amend/cancel, and to match
            trades.
        order_type:
          type: string
          enum:
          - limit
          - market
        time_in_force:
          type: string
          enum:
          - good_till_cancelled
          - immediate_or_cancel
        instrument_name:
          type: string
          description: 'Order instrument name.


            Not present for combination orders. Refer to `legs` field instead.

            '
        legs:
          type: array
          description: 'List of legs for this combination order.


            Not present for single-leg orders. Refer to `instrument_name` field instead.

            '
          items:
            type: object
            required:
            - instrument_name
            - quantity
            - filled_amount
            - remaining_amount
            properties:
              instrument_name:
                type: string
                description: 'Leg instrument name.

                  '
              quantity:
                type: number
                description: 'Quantity of this leg in a unit of the combination. A
                  non-zero integer, negative for short legs.

                  '
              filled_amount:
                type: number
                description: 'Amount executed on this leg.


                  Legs are filled proportionally to their quantities.

                  '
              remaining_amount:
                type: number
                description: 'Amount on this leg that remains in the book; if 0, order
                  is now inactive.


                  Note that the only `time_in_force` for combination orders currently
                  supported is

                  `immediate_or_cancel`. Therefore, combination orders will never
                  remain on a book,

                  and this field will always be zero.

                  '
        direction:
          type: string
          enum:
          - buy
          - sell
        price:
          type: number
          description: 'Limit price. May be omitted if no price was supplied (e.g.
            for a market order).


            For combination orders this specifies limit price per unit of the combination.

            '
        amount:
          type: number
          description: 'Order size (as inserted or amended to).


            For combination orders this specifies the amount of units of the combination
            to trade.

            '
        filled_amount:
          type: number
          description: 'Part of the order that has been executed.


            For combination orders this specifies the amount of units of the combination
            filled.

            Legs are filled proportionally to their quantities.

            '
        remaining_amount:
          type: number
          description: 'Part of the order that remains in the book; if 0, order is
            now inactive.


            For combination orders this specifies the amount of units of the combination
            remaining on a book.

            Note that the only `time_in_force` for combination orders currently supported
            is

            `immediate_or_cancel`. Therefore, combination orders will never remain
            on a book,

            and this field will always be zero.

            '
        label:
          type: string
          description: Label supplied with insert. Can also be a number. Field is
            omitted if no label was supplied.
        client_order_id:
          type: number
          description: Client-supplied order id. Field is omitted if no client order
            id was supplied.
        status:
          type: string
          enum:
          - open
          - partially_filled
          - cancelled
          - cancelled_partially_filled
          - filled
        fills:
          type: array
          items:
            $ref: '#/components/schemas/OrderFill'
          description: 'These are new fills related to this order status update, except
            if `change_reason` is

            `existing`, then the list will contain all known fills.

            '
        change_reason:
          type: string
          enum:
          - existing
          - insert
          - amend
          - cancel
          - fill
        delete_reason:
          type: string
          enum:
          - client_cancel
          - client_bulk_cancel
          - session_end
          - instrument_deactivated
          - mm_protection
          - failover
          - margin_breach
          - filled
          - immediate_cancel
          - admin_cancel
          description: "Detailed reason of order deletion if the order was deleted,\
            \ omitted otherwise.\n\nThe following reasons are possible:\n\n- `client_cancel`:\
            \ Order was cancelled by the client, e.g. with a call to `private/cancel`.\n\
            \n- `client_bulk_cancel`: Order was cancelled by the client with a bulk\
            \ cancel call, e.g. `private/cancel_all`.\n\n- `session_end`: Non-persistent\
            \ order was automatically cancelled when a WebSocket session ended.\n\n\
            - `instrument_deactivated`: Order was automatically cancelled when the\
            \ order instrument was deactivated,\n  for example after expiration.\n\
            \n- `mm_protection`: Order was automatically cancelled when configured\
            \ market maker protection amount was exhausted.\n\n- `failover`: Non-persistent\
            \ order was automatically cancelled on matching engine failover.\n\n-\
            \ `margin_breach`: Order was automatically cancelled in a response to\
            \ a margin breach on the account as part\n  of automatic liquidation procedures.\n\
            \n- `filled`: Order was filled in full.\n\n- `immediate_cancel`: The order\
            \ was submitted as \"immediate-or-cancel\" and was not filled in full\
            \ immediately.\n  Note that the order might be partially filled when this\
            \ delete reason is set.\n\n- `admin_cancel`: The order was cancelled by\
            \ an exchange admin.\n"
        insert_reason:
          type: string
          enum:
          - client_request
          - conditional_order
          - liquidation
          description: Detailed reason of order insertion.
        conditional_order_id:
          type: string
          description: 'If the order was triggered by a conditional order (stop order),
            the ID of that conditional order.

            Otherwise omitted.

            '
        bot_id:
          type: string
          description: 'If the order was inserted by a bot, the ID of that bot.

            Otherwise omitted.

            '
        create_time:
          type: number
          description: Creation time (Unix timestamp).
        close_time:
          type: number
          description: Time when this order was closed or canceled (Unix timestamp).
            Omitted for orders that are still open.
        reduce_only:
          type: boolean
          description: True if the order is a reduce only order, omitted otherwise.
        persistent:
          type: boolean
          description: True if the order is a persistent order, false otherwise.
      example:
        order_id: '1728379719872'
        time_in_force: good_till_cancelled
        instrument_name: BTC-PERPETUAL
        price: 45000
        amount: 1.1
        order_type: limit
        direction: buy
        filled_amount: 0
        remaining_amount: 1.1
        status: open
        fills: []
        change_reason: insert
        insert_reason: client_request
    OrderHistory:
      type: object
      description: Historical order.
      required:
      - order_id
      - direction
      - amount
      - filled_amount
      - status
      - fills
      - insert_reason
      - delete_reason
      - create_time
      - close_time
      - order_type
      properties:
        order_id:
          type: string
          description: System order ID, use to identify in amend/cancel, and to match
            trades.
        order_type:
          type: string
          enum:
          - limit
          - market
        instrument_name:
          type: string
          description: 'Order instrument name.


            Not present for combination orders. Refer to `legs` field instead.

            '
        legs:
          type: array
          description: 'List of legs for this combination order.


            Not present for single-leg orders. Refer to `instrument_name` field instead.

            '
          items:
            type: object
            required:
            - instrument_name
            - quantity
            - filled_amount
            properties:
              instrument_name:
                type: string
                description: 'Leg instrument name.

                  '
              quantity:
                type: number
                description: 'Quantity of this leg in a unit of the combination. A
                  non-zero integer, negative for short legs.

                  '
              filled_amount:
                type: number
                description: 'Amount executed on this leg.


                  Legs are filled proportionally to their quantities.

                  '
        direction:
          type: string
          enum:
          - buy
          - sell
        price:
          type: number
          description: 'Limit price. May be omitted if no price was supplied (e.g.
            for a market order).


            For combination orders this specifies limit price per unit of the combination.

            '
        amount:
          type: number
          description: 'Order size (as inserted or amended to).


            For combination orders this specifies the amount of units of the combination
            to trade.

            '
        filled_amount:
          type: number
          description: 'Part of the order that has been executed.


            For combination orders this specifies the amount of units of the combination
            filled.

            Legs are filled proportionally to their quantities.

            '
        label:
          type: string
          description: Label supplied with insert. Can also be a number. Field is
            omitted if no label was supplied.
        client_order_id:
          type: number
          description: Client-supplied order id. Field is omitted if no client order
            id was supplied.
        status:
          type: string
          enum:
          - open
          - partially_filled
          - cancelled
          - cancelled_partially_filled
          - filled
        fills:
          type: array
          items:
            $ref: '#/components/schemas/OrderFill'
          description: All fills for this order.
        delete_reason:
          type: string
          enum:
          - client_cancel
          - client_bulk_cancel
          - session_end
          - instrument_deactivated
          - mm_protection
          - failover
          - margin_breach
          - filled
          - immediate_cancel
          - admin_cancel
          description: "Detailed reason of order deletion if the order was deleted,\
            \ omitted otherwise.\n\nThe following reasons are possible:\n\n- `client_cancel`:\
            \ Order was cancelled by the client, e.g. with a call to `private/cancel`.\n\
            \n- `client_bulk_cancel`: Order was cancelled by the client with a bulk\
            \ cancel call, e.g. `private/cancel_all`.\n\n- `session_end`: Non-persistent\
            \ order was automatically cancelled when a WebSocket session ended.\n\n\
            - `instrument_deactivated`: Order was automatically cancelled when the\
            \ order instrument was deactivated,\n  for example after expiration.\n\
            \n- `mm_protection`: Order was automatically cancelled when configured\
            \ market maker protection amount was exhausted.\n\n- `failover`: Non-persistent\
            \ order was automatically cancelled on matching engine failover.\n\n-\
            \ `margin_breach`: Order was automatically cancelled in a response to\
            \ a margin breach on the account as part\n  of automatic liquidation procedures.\n\
            \n- `filled`: Order was filled in full.\n\n- `immediate_cancel`: The order\
            \ was submitted as \"immediate-or-cancel\" and was not filled in full\
            \ immediately.\n  Note that the order might be partially filled when this\
            \ delete reason is set.\n\n- `admin_cancel`: The order was cancelled by\
            \ an exchange admin.\n"
        insert_reason:
          type: string
          enum:
          - client_request
          - conditional_order
          - liquidation
          description: Detailed reason of order insertion.
        conditional_order_id:
          type: string
          description: 'If the order was triggered by a conditional order (stop order),
            the ID of that conditional order.

            Otherwise omitted.

            '
        bot_id:
          type: string
          description: 'If the order was inserted by a bot, the ID of that bot.

            Otherwise omitted.

            '
        create_time:
          type: number
          description: Creation time (Unix timestamp).
        close_time:
          type: number
          description: Time when this order was closed or canceled (Unix timestamp).
        reduce_only:
          type: boolean
          description: True if the order is a reduce only order, omitted otherwise.
      example:
        order_id: 001BF14D00000003
        instrument_name: BTC-16DEC23-46000-C
        direction: sell
        price: 10.0,
        amount: 0.2,
        filled_amount: 0.2,
        status: filled
        fills:
        - trade_id: 008000000000000017A0CACBF5A3BF38
          price: 10.0
          amount: 0.2
          time: 1702583649.3794017
          maker_taker: taker
        create_time: 1702583649.379417,
        close_time: 1702583649.379417,
        insert_reason: client_request
        delete_reason: filled
        order_type: limit
    OrderFill:
      type: object
      required:
      - trade_id
      - price
      - amount
      - maker_taker
      - leg_index
      properties:
        trade_id:
          type: string
          description: Trade ID.
        price:
          type: number
          description: Fill price.
        amount:
          type: number
          description: Filled amount
        time:
          type: number
        maker_taker:
          type: string
          enum:
          - maker
          - taker
          description: Maker (trade on book order) or taker (trade on new order),
            if applicable.
        leg_index:
          type: number
          description: 'Index of a leg on which the trade happened for combination
            orders. Zero for single-leg orders.


            For combination orders the direction of the trade is defined by the direction
            of the order and

            the sign of the leg quantity.

            '
    InsertRequest:
      type: object
      required:
      - amount
      properties:
        client_order_id:
          type: integer
          description: 'Session-local identifier for this order. Only valid for websocket
            sessions. If set,

            must be an integer between 0 and 2^64-1, inclusive. When using numbers
            larger than 2^32,

            please beware of implicit floating point conversions in some JSON libraries.

            '
        instrument_name:
          type: string
          description: 'Name of the instrument to trade.


            This field must not be present when inserting a combination order. Use
            `legs` field instead.

            '
        legs:
          type: array
          description: 'List of legs for a combination order.


            There must be at least two and at most four legs specified. All leg instruments
            must be distinct.


            Other constraints apply, please check trading information page on combination
            orders.


            This field must not be present when inserting single-leg orders. Use `instrument_name`
            field instead.

            '
          items:
            type: object
            required:
            - instrument_name
            - quantity
            properties:
              instrument_name:
                type: string
                description: 'Name of the instrument to trade on this leg.

                  '
              quantity:
                type: number
                description: 'Quantity of this leg in a unit of the combination. Must
                  be integer. Must not be zero. Use a negative number for short legs.


                  Result of multiplication of `quantity` and order `amount` must be
                  aligned to tick size for every leg.

                  '
        price:
          type: number
          description: 'Limit price; required for limit orders.


            For combination orders this specifies limit price per unit of the combination.

            '
        amount:
          type: number
          description: 'Amount of currency to trade (e.g. BTC for futures).


            For combination orders this specifies the amount of units of the combination
            to trade.

            '
        label:
          type: string
        order_type:
          type: string
          enum:
          - limit
          - market
          default: limit
        time_in_force:
          type: string
          enum:
          - good_till_cancelled
          - immediate_or_cancel
          description: 'Note that for limit orders, the default `time_in_force` is

            `good_till_cancelled`, while for market orders, the default is

            `immediate_or_cancel`. It is illegal to send a GTC market order, or an
            IOC post

            order.


            For combination orders `time_in_force` must always be set to `immediate_or_cancel`.

            '
        post_only:
          type: boolean
          description: 'If the order price is in cross with the current best price
            on the opposite side in the

            order book, then the price is adjusted to one tick away from that price,
            ensuring that

            the order will never trade on insert. If the adjusted price of a buy order
            falls at or

            below zero where not allowed, then the order is cancelled with delete
            reason ''immediate_cancel''.


            This flag is not supported for combination orders.

            '
        reject_post_only:
          type: boolean
          description: 'This flag is only effective in combination with post_only.
            If set, then instead of adjusting

            the order price, the order will be cancelled with delete reason ''immediate_cancel''.
            The

            combination of post_only and reject_post_only is effectively a book-or-cancel
            order.


            This flag is not supported for combination orders.

            '
        reduce_only:
          type: boolean
          description: 'An order marked `reduce_only` will have its amount reduced
            to the open position.

            If there is no open position, or if the order direction would cause an
            increase

            of the open position, the order is rejected. If the order is placed in
            the book,

            it will be subsequently monitored, and reduced to the open position if
            the

            position changes through other means (best effort). Multiple reduce-only
            orders

            will all be reduced individually.


            This flag is not supported for combination orders.

            '
        collar:
          type: string
          enum:
          - ignore
          - reject
          - clamp
          description: 'If the instrument has a safety price collar set, and the limit
            price of the order

            (infinite for market orders) is in cross with (more aggressive than) this
            collar,

            how to handle. If set to `ignore`, the order will proceed as requested.
            If `reject`,

            the order fails early. If `clamp`, the price is adjusted to the collar.


            The default is `clamp` for market orders and `reject` for everything else.


            Collar `ignore` is forbidden for market orders.


            Price collars are applied to combination orders. Price collar for a combination
            is a linear combination of the leg collars with their corresponding quantities
            as coefficients.

            '
      example:
        instrument_name: BTC-PERPETUAL
        price: 45000
        amount: 1.1
        order_type: limit
    Notifications:
      type: object
      properties:
        notifications:
          type: array
          description: List of notifications ordered from newest to oldest.
          items:
            type: object
            required:
            - id
            - time
            - category
            - title
            - message
            - display_type
            - read
            - popup
            properties:
              id:
                type: string
                description: Unique notification ID.
              time:
                type: number
                description: Time of notification (Unix timestamp).
              category:
                type: string
                description: Notification category (see API description / Notifications).
              title:
                type: string
                description: Human-readable title for the notification.
              message:
                type: string
                description: Human-readable message for the notification.
              display_type:
                type: string
                description: Specifies what style to use for notification display.
                enum:
                - success
                - failure
                - info
                - warning
                - critical
              read:
                type: boolean
                description: set to true if notification was marked as read.
              account_name:
                type: string
                description: Optional account name, only present if the notification
                  is related to an account.
              account_number:
                type: string
                description: Optional account number only present if the notification
                  is related to an account.
              popup:
                type: boolean
                description: User preference - show popup for this notification
      example:
        notifications:
        - id: 00000000000000A3
          time: 1630069885.130461
          category: risk
          title: Margin Requirements
          message: Portfolio of account foo-123 breached initial margin requirements.
          display_type: warning
          read: false
          account_name: foo-123
          account_number: A123456789
          popup: true
    Instrument:
      type: object
      properties:
        instrument_name:
          type: string
        product:
          type: string
          description: E.g. "FBTCUSD", "OBTCUSD".
        tick_size:
          type: number
          description: Price alignment.
        volume_tick_size:
          type: number
          description: Amount alignment.
        min_order_amount:
          type: number
          description: 'Minimum order amount for this instrument. This value is always
            greater or equal to `volume_tick_size`.


            If this value is greater than `volume_tick_size`, it is not possible to
            insert an order of a smaller amount,

            or amend an existing order to a smaller amount. However, orders in the
            books can have smaller remaining

            amounts as they get partially filled, down to the minimum of `volume_tick_size`.

            '
        underlying:
          type: string
          description: Related index, e.g. "BTCUSD".
        type:
          type: string
          enum:
          - perpetual
          - future
          - option
          - combination
        option_type:
          type: string
          enum:
          - call
          - put
        expiry_date:
          type: string
          description: Expiration date in ISO format (YYYY-mm-dd).
        expiration_timestamp:
          type: integer
          description: Expiration time as Unix timestamp (seconds).
        strike_price:
          type: number
          description: Strike price of option.
        base_currency:
          type: string
          description: Base currency for pricing (i.e. USD).
        legs:
          type: array
          description: For combinations, array of objects with `instrument_name` and
            `quantity`.
          items:
            type: object
            properties:
              instrument_name:
                type: string
              quantity:
                type: integer
        create_time:
          type: number
          description: Creation time (Unix timestamp).
        settlement_price:
          type: number
          description: For expired instruments, the final settlement price.
        settlement_index_price:
          type: number
          description: For expired instruments, the underlying delivery price.
      example:
        instrument_name: BTC-10SEP21-70000-C
        product: OBTCUSD
        tick_size: 5
        volume_tick_size: 0.1
        min_order_amount: 0.1
        underlying: BTCUSD
        type: option
        option_type: call
        expiry_date: '2021-09-10'
        expiration_timestamp: 1631260800
        strike_price: 70000
        base_currency: USD
        create_time: 1631250800.103645
    PortfolioEntry:
      type: object
      properties:
        instrument_name:
          type: string
          description: Instrument name.
        position:
          type: number
          description: Amount of this contract currently held; short positions are
            negative.
        mark_price:
          type: number
          description: Current mark price for the instrument.
        iv:
          type: number
          description: Implied volatility calculated at time of marking.
        index:
          type: number
          description: Index price at time of marking.
        start_price:
          type: number
          description: 'Average price paid to obtain position.


            Note: for instruments that are subject to daily futures-style settlement,
            the start price

            is reset to the mark price at the end of each session and all the unrealized
            P&L is thus realized.

            Use `private/daily_mark_history` API endpoint to get information about
            daily settlements.

            '
        average_price:
          type: number
          description: Average price paid to obtain position. Doesn't reset at settlement.
        unrealised_pnl:
          type: number
          description: 'Unrealised P&L in the current session for this position based
            on current mark price,

            equal to `(mark_price - start_price) * position`.


            Note: for instruments that are subject to daily futures-style settlement,
            the start price

            is reset to the mark price at the end of each session and all the unrealized
            P&L is thus realized.

            Use `private/daily_mark_history` API endpoint to get information about
            daily settlements.

            '
        realised_pnl:
          type: number
          description: "Realized P&L in the current session.\n\nRealized P&L is settled\
            \ into a settlement asset at the end of each session. \n"
        entry_value:
          type: number
          description: Total entry value, equal to `start_price * position`.
        perpetual_funding_entry_value:
          type: number
          description: 'Entry mark value for perpetual funding.

            Unrealised perpetual funding is (current perp funding mark * position)
            -

            perpetual funding entry value. Not

            included if zero.

            '
        unrealised_perpetual_funding:
          type: number
          description: 'For perpetual positions, current unrealized perpetual funding.


            The funding is realized as P&L and settled into settlement asset at the
            end of each session.

            '
      example:
        instrument_name: BTC-PERPETUAL
        position: 1
        mark_price: 47299.741264339274
        start_price: 47260
        average_price: 47260
        unrealised_pnl: 39.75859976453942
        realised_pnl: 0
        entry_value: 47260
        perpetual_funding_entry_value: -0.13040705
        unrealised_perpetual_funding: 0.017335425264924917
    ConditionalOrder:
      type: object
      required:
      - order_id
      - instrument_name
      - direction
      - amount
      - stop_price
      - status
      - create_time
      - update_time
      - reject_reason
      - reduce_only
      - target
      properties:
        order_id:
          type: string
          description: Unique ID, use to identify in cancel
        instrument_name:
          type: string
        direction:
          type: string
          enum:
          - buy
          - sell
        amount:
          type: number
          description: Size of the order when activated
        target:
          type: string
          enum:
          - last
          - mark
          - index
          description: The trigger type that `stop_price` and `bracket_price` will
            refer to.
        stop_price:
          type: number
          description: Trigger price at which the order will be activated
        limit_price:
          type: number
          description: For stop limit order, the price at which the order will be
            placed
        bracket_price:
          type: number
          description: For bracket order, the price at which profit will be taken
            (upper activation price)
        trailing_stop_callback_rate:
          type: number
          description: For trailing stop loss, the callback rate as a ratio (e.g.
            0.05 for 5%)
        label:
          type: string
          description: Optional user label
        status:
          type: string
          enum:
          - created
          - active
          - converted
          - rejected
          - cancel requested
          - cancelled
        create_time:
          type: number
        update_time:
          type: number
          description: Time of last update (conversion or change of trailing stop
            price)
        convert_time:
          type: number
          description: Time of trigger
        converted_order_id:
          type: string
          description: System order ID of the created order.
        reject_reason:
          type: string
          description: If conversion failed, the reason
        reduce_only:
          type: boolean
      example:
        order_id: 00011E570000004B
        instrument_name: BTC-PERPETUAL
        direction: buy
        amount: 1
        stop_price: 50000
        limit_price: 45000
        status: created
        create_time: 1630062311.3324597
        update_time: 1630062311.3324597
        reduce_only: false
        target: mark
    Bot:
      oneOf:
      - title: SGSL
        type: object
        required:
        - strategy
        - bot_id
        - status
        - instrument_name
        - entry_price
        - target_position
        - exit_price
        - exit_position
        - end_time
        - signal
        properties:
          bot_id:
            type: string
            description: Individually identifies this bot instance. You can use it
              to cancel this specific one.
          status:
            type: string
            enum:
            - active
            - stopped
          stop_reason:
            type: string
            description: The reason why the bot stopped executing. Possible values
              are ["client_cancel", "client_bulk_cancel", "end_time", "instrument_deactivated",
              "margin_breach", "admin_cancel", "conflict", "strategy"].
          strategy:
            type: string
            description: equal to "sgsl"
          instrument_name:
            type: string
            description: Name of the instrument.
          signal:
            type: string
            enum:
            - last
            - index
            - mark
          entry_price:
            type: number
            description: Price to compare `signal` price to, to determine necessary
              adjustments to the portfolio. See [the bot strategies section](#tag/bot_strategies)
              for more explanation.
          target_position:
            type: number
            description: The target position to maintain in the subaccount if `signal`
              price is above `entry_price`. See [the bot strategies section](#tag/bot_strategies)
              for more explanation.
          exit_price:
            type: number
            description: Price to compare `signal` price to, to determine necessary
              adjustments to the portfolio. See [the bot strategies section](#tag/bot_strategies)
              for more explanation.
          exit_position:
            type: number
            description: The target position to maintain in the subaccount if `signal`
              price is below `exit_price`. See [the bot strategies section](#tag/bot_strategies)
              for more explanation.
          max_slippage:
            type: number
            description: Maximum slippage per trade, expressed as % of the traded
              instruments mark price.
          end_time:
            type: number
            description: Timestamp when the bot stops executing, cancelling its orders
              and leaving all positions of the subaccount intact.
          label:
            type: string
            description: A label that the bot will add to all orders for easy identification.
      - title: OCQ
        type: object
        required:
        - strategy
        - instrument_name
        - status
        - bid_offset
        - ask_offset
        - signal
        - quote_size
        - min_position
        - max_position
        - end_time
        - bot_id
        properties:
          bot_id:
            type: string
            description: Individually identifies this bot instance. You can use it
              to cancel this specific one.
          status:
            type: string
            enum:
            - active
            - stopped
          stop_reason:
            type: string
            description: The reason why the bot stopped executing. Possible values
              are ["client_cancel", "client_bulk_cancel", "end_time", "instrument_deactivated",
              "margin_breach", "admin_cancel", "conflict", "strategy"].
          strategy:
            type: string
            description: equal to "ocq"
          instrument_name:
            type: string
            description: Name of the instrument.
          signal:
            type: string
            enum:
            - index
            - mark
          bid_offset:
            type: number
            description: The offset of the price of the bid quote from the signal
              price. See [the bot strategies section](#tag/bot_strategies) for more
              explanation.
          ask_offset:
            type: number
            description: The offset of the price of the ask quote from the signal
              price. See [the bot strategies section](#tag/bot_strategies) for more
              explanation.
          quote_size:
            type: number
            description: The default size of both the bid and ask quote, See [the
              bot strategies section](#tag/bot_strategies) for more explanation.
          min_position:
            type: number
            description: The minimum portfolio position to maintain in the subaccount.
              See [the bot strategies section](#tag/bot_strategies) for more explanation.
          max_position:
            type: number
            description: The maximum portfolio position to maintain in the subaccount.
              See [the bot strategies section](#tag/bot_strategies) for more explanation.
          end_time:
            type: number
            description: Timestamp when the bot stops executing, cancelling its orders
              and leaving all positions of the subaccount intact.
          label:
            type: string
            description: A label that the bot will add to all orders for easy identification.
      - title: Levels
        type: object
        required:
        - strategy
        - instrument_name
        - bids
        - asks
        - step_size
        - base_position
        - upside_exit_price
        - downside_exit_price
        - end_time
        - bot_id
        - status
        properties:
          bot_id:
            type: string
            description: Individually identifies this bot instance. You can use it
              to cancel this specific one.
          status:
            type: string
            enum:
            - active
            - stopped
          stop_reason:
            type: string
            description: The reason why the bot stopped executing. Possible values
              are ["client_cancel", "client_bulk_cancel", "end_time", "instrument_deactivated",
              "margin_breach", "admin_cancel", "conflict", "strategy"].
          strategy:
            type: string
            description: equal to "levels"
          instrument_name:
            type: string
            description: Name of the instrument the bot instance is trading.
          bids:
            type: array
            description: The default price levels the bot will be bidding at. See
              [the bot strategies section](#tag/bot_strategies) for more explanation.
            items:
              type: number
          asks:
            type: array
            description: The default price levels the bot will be quoting on the ask
              side. See [the bot strategies section](#tag/bot_strategies) for more
              explanation.
            items:
              type: number
          step_size:
            type: number
            description: The default size of to quote on one level. See [the bot strategies
              section](#tag/bot_strategies) for more explanation.
          base_position:
            type: number
            description: Will be used as a reference to compare the subaccount's portfolio
              position in the instrument that this bot is trading to. See [the bot
              strategies section](#tag/bot_strategies) for more explanation.
          upside_exit_price:
            type: number
            description: If the mark price of the instrument this bot is trading goes
              above `upside_exit_price`, the bot cancels the maker orders, aggressively
              trades into `base_position`, and then stops executing.
          downside_exit_price:
            type: number
            description: If the mark price of the instrument this bot is trading goes
              below `downside_exit_price`, the bot cancels the maker orders, aggressively
              trades into `base_position`, and then stops executing.
          max_slippage:
            type: number
            description: Maximum slippage per trade when exiting any position, expressed
              as % of the traded instruments mark price.
          end_time:
            type: number
            description: Timestamp when the bot stops executing, cancelling its orders
              and leaving all positions of the subaccount intact.
          label:
            type: string
            description: A label that the bot will add to all orders for easy identification.
      - title: Grid
        type: object
        required:
        - strategy
        - instrument_name
        - grid
        - step_size
        - base_position
        - upside_exit_price
        - downside_exit_price
        - end_time
        - bot_id
        - status
        properties:
          bot_id:
            type: string
            description: Individually identifies this bot instance. You can use it
              to cancel this specific one.
          status:
            type: string
            description: One of ["active", "stopped"].
          stop_reason:
            type: string
            description: The reason why the bot stopped executing. Possible values
              are ["client_cancel", "client_bulk_cancel", "end_time", "instrument_deactivated",
              "margin_breach", "admin_cancel", "conflict", "strategy"].
          strategy:
            type: string
            description: Equal to "grid".
          instrument_name:
            type: string
            description: Name of the instrument the bot instance is trading.
          grid:
            type: array
            items:
              type: number
            description: The default price levels the bot will be quoting at. See
              [the bot strategies section](#tag/bot_strategies) for more explanation.
          step_size:
            type: number
            description: The default size to quote on one level. See [the bot strategies
              section](#tag/bot_strategies) for more explanation.
          base_position:
            type: number
            description: Will be used as a reference to compare the subaccount's portfolio
              position in the instrument that this bot is trading to. See [the bot
              strategies section](#tag/bot_strategies) for more explanation.
          upside_exit_price:
            type: number
            description: If the mark price of the instrument this bot is trading goes
              above `upside_exit_price`, the bot cancels the maker orders, aggressively
              trades into `base_position`, and then stops executing.
          downside_exit_price:
            type: number
            description: If the mark price of the instrument this bot is trading goes
              below `downside_exit_price`, the bot cancels the maker orders, aggressively
              trades into `base_position`, and then stops executing.
          max_slippage:
            type: number
            description: Maximum slippage per trade when exiting any position, expressed
              as % of the traded instruments mark price.
          end_time:
            type: number
            description: Timestamp when the bot stops executing, cancelling its orders
              and leaving all positions of the subaccount intact.
          label:
            type: string
            description: A label that the bot will add to all orders for easy identification.
      - title: DHedge
        type: object
        required:
        - strategy
        - instrument_name
        - period
        - threshold
        - target_delta
        properties:
          strategy:
            type: string
            description: Equal to "dhedge".
          instrument_name:
            type: string
            description: Name of the instrument the bot will trade.
          position:
            type: string
            description: Name of an instrument. If specified, the bot will only hedge
              the position in this instrument, not the entire underlying.
          target_delta:
            type: number
            description: The delta that the bot is targeting.
          threshold:
            type: number
            description: Tolerance threshold.
          period:
            type: number
            description: Number of seconds to let the deltas stay outside of `[target-threshold,
              target+threshold]`, before hedging them.
          max_slippage:
            type: number
            description: Maximum slippage per trade, expressed as % of the traded
              instruments mark price.
          end_time:
            type: number
            description: 'Timestamp when the bot should stop executing.

              If not specified, the bot will run until it''s manually stopped.

              When `end_time` is reached, the bot will leave all positions intact,
              it will not open/close any of them.

              '
          label:
            type: string
            description: A label that the bot will add to all orders for easy identification.
      - title: DFollow
        type: object
        required:
        - strategy
        - instrument_name
        - target_instrument
        - target_amount
        - threshold
        - end_time
        - period
        properties:
          strategy:
            type: string
            description: Equal to "dfollow".
          instrument_name:
            type: string
            description: Name of the instrument to trade, in order to follow the deltas
              of the target.
          target_instrument:
            type: string
            description: Name of the option to follow the deltas of.
          target_amount:
            type: number
            description: Amount of `target_instrument` contracts to follow the deltas
              of.
          threshold:
            type: number
            description: Tolerance threshold.
          period:
            type: number
            description: 'Number of seconds to let the deltas of the following position
              stay outside of `[target-threshold, target+threshold]`,

              before correcting them, where `target = deltas of target_instrument
              * target_amount`.

              '
          max_slippage:
            type: number
            description: Maximum slippage per trade, expressed as % of the traded
              instruments mark price.
          end_time:
            type: number
            description: 'Timestamp when the bot should stop executing.

              When `end_time` is reached, the bot will leave all positions intact,
              it will not open/close any of them.

              '
          label:
            type: string
            description: A label that the bot will add to all orders for easy identification.
      example:
        strategy: sgsl
        status: active
        bot_id: 0000000035832FDE
        instrument_name: BTC-PERPETUAL
        signal: index
        entry_price: 100050
        target_position: 0.2
        exit_price: 100000
        exit_position: 0
        end_time: 1740064912
    Trade:
      type: object
      properties:
        trade_type:
          type: string
          description: 'Type of the trade.


            Note: as of API v2.31.0 we have stopped representing futures-style settlements
            as trades of `daily_mark` type. You might still

            get such trades in the history, but no new trades of `daily_mark` type
            will be created.

            To get information about daily marks, use `private/daily_mark_history`
            API endpoint.

            '
          enum:
          - normal
          - block
          - combo
          - amend
          - delete
          - internal_transfer
          - expiration
          - daily_mark
          - rfq
          - liquidation
        trade_id:
          type: string
        order_id:
          type: string
        instrument_name:
          type: string
        direction:
          type: string
          enum:
          - buy
          - sell
        price:
          type: number
          description: Trade price.
        amount:
          type: number
          description: Traded amount.
        label:
          type: string
          description: User label.
        time:
          type: number
          description: Time of trade (Unix timestamp).
        position_after:
          type: number
          description: Position in this instrument right after the trade.
        session_realised_after:
          type: number
          description: Session realised P&L for this instrument right after the trade.
        position_pnl:
          type: number
          description: If trade closed a position, the positional P&L that was realised.
        perpetual_funding_pnl:
          type: number
          description: If trade closed a position in a perpetual, the funding P&L
            that was realised.
        fee:
          type: number
          description: The fee paid for this trade.
        index:
          type: number
          description: The relevant index at time of trade.
        fee_rate:
          type: number
          description: The fee rate applied to calculate the fee.
        funding_mark:
          type: number
          description: The perpetual funding mark as applied to the trade (see `Ticker`).
        liquidation_fee:
          type: number
          description: Fee paid in case of liquidation.
        client_order_id:
          type: number
          description: Client order reference as set in related order.
        maker_taker:
          type: string
          description: Maker (trade on book order) or taker (trade on new order),
            if applicable.
          enum:
          - maker
          - taker
        bot_id:
          type: string
          description: 'If the trade was made by a bot, the ID of that bot.

            Otherwise omitted.

            '
        leg_index:
          type: number
          description: 'Index of a leg on which the trade happened for combination
            orders. Zero for single-leg orders.


            For combination orders the direction of the trade is defined by the direction
            of the order and

            the sign of the leg quantity.

            '
      example:
        order_id: 00011E570000004A
        trade_id: 0080000000000000169F22D05B785A2B
        instrument_name: BTC-PERPETUAL
        direction: buy
        price: 47280
        amount: 0.1
        label: ''
        time: 1630059868.4145653
        position_after: 1.1
        trade_type: normal
        session_realised_after: 25
        fee_rate: 0.00025
        index: 47200
        fee: 1.18
        funding_mark: 0.014
        leg_index: 0
    DailyMark:
      type: object
      required:
      - time
      - instrument_name
      - position
      - mark_price
      - realized_position_pnl
      properties:
        time:
          type: number
          description: Time of settlement (Unix timestamp).
        instrument_name:
          type: string
          description: Instrument name.
        position:
          type: number
          description: Position in the instrument.
        mark_price:
          type: number
          description: Mark price used for settlement.
        realized_position_pnl:
          type: number
          description: Realized profit or loss for this position.
        realized_funding_pnl:
          type: number
          description: Realized perpetual funding. Only present for perpetuals.
      example:
        time: 1630059868.4145653
        instrument_name: BTC-PERPETUAL
        mark_price: 47280
        position: 0.1
        realized_position_pnl: 1220
        realized_funding_pnl: 10
    NotificationPreferences:
      type: object
      description: Notification preferences per category
      additionalProperties:
        type: object
        x-additionalPropertiesName: <category name>
        description: Map of notification preferences per category.
        properties:
          email:
            type: boolean
            description: E-mail message is sent for this notification.
          inbox:
            type: boolean
            description: Notification is placed in user/api key inbox.
          popup:
            type: boolean
            description: For user inbox notifications, determines if a popup is shown
              in the front end.
          sms:
            type: boolean
            description: SMS message is sent for this notification.
      example:
        new_api_key:
          email: true
          inbox: false
          popup: true
          sms: false
        funding_fee:
          email: false
          inbox: false
          popup: false
          sms: false
    NotificationPreferencesApiKey:
      type: object
      description: Notification preferences per category
      additionalProperties:
        type: object
        x-additionalPropertiesName: <category name>
        description: Map of notification preferences per category.
        properties:
          inbox:
            type: boolean
            description: Notification is placed in user/api key inbox.
      example:
        new_api_key:
          inbox: false
        funding_fee:
          inbox: false
    ApiKeyConfig:
      type: object
      description: API key config
      required:
      - nickname
      - default_account_number
      - permissions
      - active
      properties:
        nickname:
          type: string
          description: Key nickname to be displayed in the front end.
        default_account_number:
          type: string
          description: Account number of the default account for this key.
        permissions:
          type: array
          description: List of account permissions for this key.
          items:
            type: object
            required:
            - account_number
            - may_view
            - may_trade
            - may_withdraw
            - receive_notifications
            properties:
              account_number:
                type: string
                description: Account number.
              may_view:
                type: boolean
                description: Permission to view this account when logged in with this
                  key.
              may_trade:
                type: boolean
                description: Permission to trade in this account when logged in with
                  this key.
              may_withdraw:
                type: boolean
                description: Permission to withdraw assets from this account when
                  logged in with this key.
              receive_notifications:
                type: boolean
                description: Permission to receive account notifications when logged
                  in with this key.
        notifications:
          $ref: '#/components/schemas/NotificationPreferencesApiKey'
        active:
          type: boolean
          description: If `true` this API key is active, i.e. can be used to access
            the API.
        ip_whitelist:
          type: array
          description: 'Whitelisted IP addresses.


            If this list is not empty, the API key can only be used from one of the
            addresses on the list.


            Each list item is either a single string that contains a specific IP address,
            or an array of

            exactly two strings that define a whitelisted range of IP addresses (range
            ends included).

            Strings must be valid representations of IPv4 or IPv6 addresses. Special
            addresses

            (broadcast, loopback, multicast etc.) are not allowed. The addresses must
            be

            public IPs as seen by our servers.


            You can specify a maximum of 10 addresses.

            '
          items:
            oneOf:
            - type: string
            - type: array
              items:
                type: string
              minItems: 2
              maxItems: 2
      example:
        nickname: My primary key
        default_account_number: A123456789
        permissions:
        - account_number: A123456789
          may_trade: true
          may_view: true
          may_withdraw: false
          receive_notifications: true
        notifications:
          margin_call:
            inbox: true
        active: true
        ip_whitelist:
        - 186.0.0.5
        - - 187.0.0.1
          - 187.0.0.254
    AccountConfig:
      type: object
      required:
      - name
      - portfolio_margin
      properties:
        name:
          type: string
          description: Unique account name.
        portfolio_margin:
          type: boolean
          description: 'Enable portfolio margin for this account.


            Can only be set to `true` is portfolio margin is allowed for the current
            customer.

            '
      example:
        name: Secondary account
        portfolio_margin: false
    AccountSummary:
      type: object
      required:
      - cash
      - unrealised_pnl
      - cash_collateral
      - margin
      - required_margin
      - remaining_margin
      - session_realised_pnl
      properties:
        unrealised_pnl:
          type: number
          description: Total unrealised profit or loss.
        cash_collateral:
          type: number
          description: Total margin based on cash holdings.
        margin:
          type: number
          description: Total margin from unrealised P&L and cash holdings.
        required_margin:
          type: number
          description: Required margin based on current position.
        remaining_margin:
          type: number
          description: Difference between margin and required margin.
        session_realised_pnl:
          type: number
          description: Realised profit or loss in current session.
        cash:
          type: array
          description: List of cash holdings, for each relevant currency, and how
            they contribute to margin.
          items:
            type: object
            required:
            - currency
            - balance
            - collateral_factor
            - collateral_index_price
            - transactable
            properties:
              currency:
                type: string
                description: Currency name.
              balance:
                type: number
                description: Current balance in this currency.
              collateral_factor:
                type: number
                description: The collateral quality of the asset i.e. the fraction
                  of the asset that can be used as a collateral.
              collateral_index_price:
                type: number
                description: 'Index price used to calculate collateral effect of this
                  position.

                  Can be `null` for assets that are not converted using an index,
                  e.g. for stable coins.

                  '
              transactable:
                type: boolean
                description: If this flag is `true`, this currency can be deposited
                  and withdrawn.
      example:
        cash:
        - currency: USDT
          balance: 1000000004483.9625
          collateral_factor: 1
          collateral_index_price: null
          transactable: true
        unrealised_pnl: 491.00977310002116
        session_realised_pnl: 0
        cash_collateral: 1000000004483.9625
        margin: 1000000004994.1586
        required_margin: 13123.880458333333
        remaining_margin: 999999991870.2781
    DoubleSidedQuote:
      type: object
      required:
      - i
      properties:
        i:
          type: string
          description: instrument name
        b:
          oneOf:
          - type: array
            title: Multi-level quotes
            description: an array of bid quotes
            minItems: 0
            maxItems: 10
            items:
              type: array
              minItems: 2
              maxItems: 2
              prefixItems:
              - type: number
                description: Limit price.
              - type: number
                description: Amount; set to zero to delete quote.
          - type: object
            title: Single-level quote
            description: bid quote
            properties:
              p:
                type: number
                description: Limit price.
              a:
                type: number
                description: Amount; set to zero to delete quote.
            required:
            - p
            - a
        a:
          oneOf:
          - type: array
            title: Multi-level quotes
            description: an array of ask quotes
            minItems: 0
            maxItems: 10
            items:
              type: array
              minItems: 2
              maxItems: 2
              prefixItems:
              - type: number
                description: Limit price.
              - type: number
                description: Amount; set to zero to delete quote.
          - type: object
            title: Single-level quote
            description: ask quote
            properties:
              p:
                type: number
                description: Limit price.
              a:
                type: number
                description: Amount; set to zero to delete quote.
            required:
            - p
            - a
    DoubleSidedQuoteResult:
      type: object
      example:
        n_success: 4
        n_fail: 0
        errors: []
      required:
      - n_fail
      - n_success
      - errors
      properties:
        n_fail:
          type: number
          description: The number of individual quote sides failed to insert.
        n_success:
          type: number
          description: The number of individual quote sides successfully replaced
            or deleted.
        errors:
          type: array
          description: A collection of errors assembled during execution.
          items:
            type: object
            properties:
              code:
                type: number
                description: Error code.
              message:
                type: string
                description: Error message.
              side:
                type: string
                description: Optional quote side.
              price:
                type: number
                description: Optional price level.
    Deposit:
      type: object
      required:
      - currency
      - blockchain
      - transaction_hash
      - transaction_timestamp
      - amount
      - status
      properties:
        currency:
          type: string
          description: Deposited currency symbol.
        amount:
          type: number
          description: Amount of currency deposited.
        blockchain:
          type: string
          description: Blockchain used or this transaction.
        transaction_hash:
          type: string
          description: Transaction hash on the used blockchain.
        transaction_timestamp:
          type: number
          description: Time when this transaction was created (Unix timestamp).
        status:
          type: string
          description: Deposit transaction status.
          enum:
          - unconfirmed
          - confirmed
        confirmations:
          type: number
          description: Number of confirmations. Optional, omitted when none.
    Index:
      type: object
      summary: Index
      required:
      - index_name
      - price
      - timestamp
      properties:
        index_name:
          type: string
        price:
          type: number
        timestamp:
          type: number
          description: The unix timestamp when the index price was recorded in the
            database.
        expiration_print_average:
          type: number
          description: The average price so far over the current expiration, if any.
        expiration_progress:
          type: number
          description: A number between 0.0 and 1.0 indicating the progress of the
            current expiration.
        expected_expiration_price:
          type: number
          description: 'If expiration is in progress, and the index price will not
            change any more, this

            is the expiration price. Equals `expiration_progress * expiration_print_average
            + (1 - expiration_progress) * price`.

            '
        previous_settlement_price:
          type: number
          description: The last known settlement price (expiration price, underlying
            delivery price).
      example:
        index_name: BTCUSD
        price: 47389.10833333334
        timestamp: 946684800
    Ticker:
      type: object
      summary: Ticker
      properties:
        best_bid_price:
          type: number
          description: Price of the best (highest) bid in the orderbook, or `null`
            if the orderbook is empty.
        best_bid_amount:
          type: number
          description: Size of best bid, or `null` if the orderbook is empty.
        best_ask_price:
          type: number
          description: Price of best (lowest) ask in the orderbook, or `null` if the
            orderbook is empty.
        best_ask_amount:
          type: number
          description: Size of best ask, or `null` if the orderbook is empty.
        last_price:
          type: number
          description: 'Price of last trade, or `null` if no trades have been registered
            yet.


            Not included for combinations.

            '
        mark_price:
          type: number
          description: Current mark price.
        mark_timestamp:
          type: number
          description: The unix timestamp when the price was marked.
        iv:
          type: number
          description: 'Implied volatility calculated at time of marking.


            Only included for options. Not included for combinations.

            '
        delta:
          type: number
          description: 'Delta calculated at time of marking.


            Not included for combinations.

            '
        index:
          type: number
          description: Index price at time of marking.
        forward:
          type: number
          description: 'Forward price at time of marking.


            Only included for options.

            '
        volume_24h:
          type: number
          description: 'Total volume traded over the last 24 hours.


            Not included for combinations.

            '
        value_24h:
          type: number
          description: 'Total value traded over the last 24 hours.


            Not included for combinations.

            '
        low_price_24h:
          type: number
          description: 'Lowest price in the last 24 hours.


            Not included for combinations.

            '
        high_price_24h:
          type: number
          description: 'Highest price in the last 24 hours.


            Not included for combinations.

            '
        change_24h:
          type: number
          description: 'Difference in price between the first and the last trades
            in the last 24 hours, `null` if there were no trades.


            Not included for combinations.

            '
        collar_low:
          type: number
          description: Current price collar low (checks new asks)
        collar_high:
          type: number
          description: Current price collar high (checks new bids)
        open_interest:
          type: number
          description: 'Total number of outstanding unsettled contracts.


            Not included for combinations.

            '
        funding_rate:
          type: number
          description: 'Current rate at which long position pays and short position
            earns, in funding interval.


            Only included for perpetuals.

            '
        funding_mark:
          type: number
          description: 'Funding value of a single contract long position since last
            settlement.


            Only included for perpetuals.

            '
        realised_funding_24h:
          type: number
          description: 'Total funding accumulated for a single contract long position
            over the last 24 hours.


            Only included for perpetuals.

            '
        average_funding_rate_24h:
          type: number
          description: 'Average funding rate for the last 24 hours.


            Only included for perpetuals.

            '
      example:
        mark_price: 47238.64143906124
        mark_timestamp: 946684800
        best_bid_price: 47240
        best_bid_amount: 0.4
        best_ask_price: 47260
        best_ask_amount: 1
        delta: 1
        volume_24h: 0
        value_24h: 0
        open_interest: 123.456
    SystemEvent:
      type: object
      required:
      - event
      properties:
        event:
          type: string
          description: 'Type of the system event.


            - `reconnect`: you receive this event when the WebSocket connection is
            about to be closed by the server and you need to open a new one. This
            can happen, for example, during exchange maintenance windows. The event
            is sent at least 10 seconds before the connection is closed.

            '
          enum:
          - reconnect
      example:
        event: reconnect
    Banner:
      type: object
      required:
      - time
      - severity
      - message
      properties:
        id:
          type: number
          description: The id of this banner.
        time:
          type: number
          description: Time when this banner was posted (Unix timestamp).
        severity:
          type: string
          description: Severity of the banner message. Used to choose appropriate
            styling for banner display.
          enum:
          - info
          - warning
          - critical
        title:
          type: string
          description: Optional title of the banner.
        message:
          type: string
          description: Message text to be displayed in the banner.
      example:
        id: 1
        time: 1630059868.4145653
        severity: info
        title: Important information
        message: Starting next week we are lowering our fees by 10%.
    RfqOrder:
      type: object
      required:
      - rfq_id
      - order_id
      - direction
      - price
      - amount
      properties:
        rfq_id:
          type: string
          description: Identifier of the RFQ.
        order_id:
          type: string
          description: Identifier of the individual quote.
        client_order_id:
          type: number
          description: Client-supplied order id. Field is omitted if no client order
            id was supplied.
        direction:
          type: string
          enum:
          - buy
          - sell
        price:
          type: number
        amount:
          type: number
        label:
          type: string
        trade_price:
          type: number
          description: the price at which this order traded.
        trade_amount:
          type: number
          description: the number of combinations that traded.
        delete_reason:
          type: string
          enum:
          - client_cancel
          - session_end
          - instrument_deactivated
          - mm_protection
          - failover
          - margin_breach
          - filled
          description: Detailed reason of order deletion.
        event:
          type: string
          enum:
          - Inserted
          - Amended
          - Cancelled
          - Filled
          - Existing
          description: This field is set only on subscriptions.
    Rfq:
      type: object
      required:
      - rfq_id
      - legs
      - amount
      - create_time
      properties:
        rfq_id:
          type: string
          description: Identifier for this RFQ.
        amount:
          type: number
          description: Requested amount for this RFQ
        create_time:
          type: number
          description: Timestamp of creation (unix timestamp)
        valid_until:
          type: number
          description: Timestamp at which this RFQ will be automatically cancelled
            (unix timestamp)
        legs:
          type: array
          description: Combo legs. A minimalised version of the request such that
            quantities are integer.
          items:
            type: object
            required:
            - instrument_name
            - quantity
            - fee_quantity
            properties:
              instrument_name:
                type: string
              quantity:
                type: number
                description: Quantity for this leg. May be negative.
              fee_quantity:
                type: number
                description: Quantity for fee calculations. Anywhere between 0 and
                  abs(quantity).
        label:
          type: string
          description: User label set at creation. Not visibible to market makers.
        insert_reason:
          type: string
          enum:
          - client_request
          - liquidation
          description: Detailed reason for creation. Visible only to the requester.
        delete_reason:
          type: string
          enum:
          - client_cancel
          - filled
          description: Reason why this RFQ was removed. Visible only to the requester.
        volume_tick_size:
          type: number
          description: The minimum size / size increase for quotes.
        quoted_bid:
          type: object
          description: The bid price/amount quoted so far, if any. Visible only to
            the requester.
          properties:
            price:
              type: number
            amount:
              type: number
        quoted_ask:
          type: object
          description: The ask price/amount quoted so far, if any. Visible only to
            the requester.
          properties:
            price:
              type: number
            amount:
              type: number
        trade_price:
          type: number
          description: Combo price for which this RFQ was traded.
        trade_amount:
          type: number
          description: Amount in which this RFQ was traded.
        close_time:
          type: number
          description: Time at which this RFQ was cancelled or traded.
        event:
          type: string
          enum:
          - Created
          - Cancelled
          - Traded
          - Existing
          description: This field is set only on the `account.rfqs` subscription.
    PortfolioMarginBreakdown:
      type: object
      title: Portfolio Margin Breakdown
      description: Required margin breakdown for accounts that use portfolio margin.
      properties:
        portfolio:
          type: object
          properties:
            required_margin:
              type: number
              description: Total required margin for account.
            underlyings:
              type: array
              items:
                type: object
                properties:
                  underlying:
                    type: string
                    description: Underlying index name.
                  required_margin:
                    type: number
                    description: Total margin required for positions with this underlying.
                  scenario_margin:
                    type: number
                    description: Deprecated. Same value as `loss_margin`.
                  loss_margin:
                    type: number
                    description: Margin based on scenario loss coverage.
                  d1_roll_cash_position:
                    type: number
                    description: Delta one roll position x index price in this underlying.
                  options_roll_cash_position:
                    type: number
                    description: Options roll position x index price in this underlying.
                  roll_cash_position:
                    type: number
                    description: Roll position x index price in this underlying.
                  d1_roll_contingency_margin:
                    type: number
                    description: Margin based on delta one roll position.
                  options_roll_contingency_margin:
                    type: number
                    description: Margin based on options roll position.
                  roll_contingency_margin:
                    type: number
                    description: Margin based on roll position.
                  options_short_cash_position:
                    type: number
                    description: Total short options position x index price in this
                      underlying.
                  options_contingency_margin:
                    type: number
                    description: Margin based on options short position.
                  scenario_used:
                    type: integer
                    description: Index of the scenario in the `scenarios` array that
                      was used to calculate total margin requirements for this underlying.
                  scenarios:
                    type: array
                    description: Scenarios that were simulated.
                    items:
                      type: object
                      properties:
                        underlying_change_pct:
                          type: number
                          description: Simulated underlying change, %
                        vol_change_pct_point:
                          type: number
                          description: Simulated volatility change, %
                        pnl:
                          type: number
                          description: P&L resulting from this scenario.
                        coverage_factor:
                          type: number
                          description: Effect factor of P&L on the loss margin.
                        required_margin:
                          type: number
                          description: Total required margin in this scenario.
                        loss_margin:
                          type: number
                          description: Margin based on scenario loss coverage.
                        roll_cash_position:
                          type: number
                          description: Roll position x index price in this underlying.
                        roll_contingency_margin:
                          type: number
                          description: Margin based on roll position.
                        d1_roll_cash_position:
                          type: number
                          description: Delta one roll position x index price in this
                            underlying.
                        d1_roll_contingency_margin:
                          type: number
                          description: Margin based on delta one roll position.
                        options_roll_cash_position:
                          type: number
                          description: Options roll position x index price in this
                            underlying.
                        options_roll_contingency_margin:
                          type: number
                          description: Margin based on options roll position.
                        options_short_cash_position:
                          type: number
                          description: Total short options position x index price
                            in this underlying.
                        options_contingency_margin:
                          type: number
                          description: Margin based on options short position.
                        positions:
                          type: array
                          items:
                            description: Results of scenario simulations on affected
                              portfolio positions and open orders.
                            type: object
                            properties:
                              instrument_name:
                                type: string
                                description: Instrument feedcode.
                              position:
                                type: number
                                description: Position/order size in contracts.
                              instrument_pnl:
                                type: number
                                description: P&L for a single contract of this instrument.
                              pnl:
                                type: number
                                description: Total P&L for the position/order in this
                                  instrument.
                              current_price:
                                type: number
                                description: 'The price at the moment of scenario
                                  calculation.


                                  For positions this is set to the current mark price.


                                  For open orders this is the order limit price.

                                  '
                              scenario_price:
                                type: number
                                description: The price simulated for the scenario.
                              open_order:
                                type: boolean
                                description: Indicates whether this position is implied
                                  from an open order.
                              assumed_filled:
                                type: boolean
                                description: 'Indicates whether this order was assumed
                                  to be filled in this scenario.


                                  Orders are assumed to be filled if they, for the
                                  particular scenario, generate an immediate

                                  loss if filled at the limit price.


                                  Only orders that are assumed to be filled are taken
                                  into account for the loss, roll contingency and

                                  option contingency margin requirements.


                                  This field is only present if `open_order` is `true`.

                                  '
                        assets:
                          type: array
                          description: Results of scenario simulations on affected
                            asset positions.
                          items:
                            type: object
                            properties:
                              asset_name:
                                type: string
                                description: Asset name
                              position:
                                type: number
                              underlying_pnl:
                                type: number
                                description: P&L for a single unit of this asset.
                              pnl:
                                type: number
                                description: Total P&L for the position in this asset.
                              current_price:
                                type: number
                                description: The price at the moment of scenario calculation.
                              scenario_price:
                                type: number
                                description: The price calculated for the scenario.
                        highlight:
                          type: boolean
                          description: '`true` if this scenario was used to calculate
                            total margin requirements for this underlying.'
      example:
        portfolio:
          required_margin: -155.90231262790033
          underlyings:
          - required_margin: -155.90231262790033
            underlying: BTCUSD
            scenario_used: 0
            scenarios:
            - underlying_change_pct: 5
              vol_change_pct_point: 0
              pnl: 364.71774475516037
              coverage_factor: 1
              required_margin: -155.90231262790033
              loss_margin: -364.71774475516037
              roll_contingency_margin: 151.54255212726002
              roll_cash_position: 3788.5638031815006
              d1_roll_contingency_margin: 151.54255212726002
              d1_roll_cash_position: 3788.5638031815006
              options_roll_contingency_margin: 151.54255212726002
              options_roll_cash_position: 3788.5638031815006
              options_contingency_margin: 57.27288000000001
              options_short_cash_position: 22909.152000000002
              positions:
              - instrument_name: BTC-PERPETUAL
                position: 0.27
                instrument_pnl: 1431.8220000000001
                pnl: 386.5919400000001
                scenario_price: 30068.262000000002
                current_price: 28636.440000000002
                open_order: false
              - instrument_name: BTC-24MAR23-29000-P
                position: -0.5
                instrument_pnl: -567.2818767594899
                pnl: 283.64093837974497
                scenario_price: 208.2254034876978
                current_price: 775.5072802471877
                open_order: false
              - instrument_name: BTC-23MAR23-28800-C
                position: -0.3
                instrument_pnl: 1018.3837787486154
                pnl: -305.5151336245846
                scenario_price: 1318.3837787486154
                current_price: 300
                open_order: true
                assumed_filled: true
              assets: []
              highlight: false
            - underlying_change_pct: 10
              vol_change_pct_point: 0
              pnl: 420.78633636138727
              coverage_factor: 1
              required_margin: -211.97090423412723
              loss_margin: -420.78633636138727
              roll_contingency_margin: 151.54255212726002
              roll_cash_position: 3788.5638031815006
              d1_roll_contingency_margin: 151.54255212726002
              d1_roll_cash_position: 3788.5638031815006
              options_roll_contingency_margin: 151.54255212726002
              options_roll_cash_position: 3788.5638031815006
              options_contingency_margin: 57.27288000000001
              options_short_cash_position: 22909.152000000002
              positions:
              - instrument_name: BTC-PERPETUAL
                position: 0.27
                instrument_pnl: 2863.6440000000002
                pnl: 773.1838800000002
                scenario_price: 31500.084000000003
                current_price: 28636.440000000002
                open_order: false
              - instrument_name: BTC-24MAR23-29000-P
                position: -0.5
                instrument_pnl: -742.0834856469746
                pnl: 371.0417428234873
                scenario_price: 33.423794600213114
                current_price: 775.5072802471877
                open_order: false
              - instrument_name: BTC-23MAR23-28800-C
                position: -0.3
                instrument_pnl: 2411.464288207
                pnl: -723.4392864621001
                scenario_price: 2711.464288207
                current_price: 300
                open_order: true
                assumed_filled: true
              assets: []
              highlight: false
            loss_margin: -155.90231262790033
            roll_contingency_margin: 151.54255212726002
            roll_cash_position: 3788.5638031815006
            options_roll_contingency_margin: 151.54255212726002
            options_roll_cash_position: 3788.5638031815006
            d1_roll_contingency_margin: 151.54255212726002
            d1_roll_cash_position: 3788.5638031815006
            options_contingency_margin: 57.27288000000001
            options_short_cash_position: 22909.152000000002
    MarginBreakdownWithOrder:
      type: object
      title: Margin Breakdown with order
      description: Lightweight margin breakdown without and with an order inserted
        as buy or sell.
      properties:
        current:
          type: object
          properties:
            required_margin:
              type: number
              description: Total required margin for account.
            underlying:
              type: object
              properties:
                underlying:
                  type: string
                  description: Underlying index name.
                required_margin:
                  type: number
                  description: Total margin required for positions with this underlying.
                loss_margin:
                  type: number
                  description: Margin based on scenario loss coverage.
                roll_contingency_margin:
                  type: number
                  description: Margin based on roll position.
                d1_roll_contingency_margin:
                  type: number
                  description: Margin based on delta one roll position.
                options_roll_contingency_margin:
                  type: number
                  description: Margin based on options roll position.
                options_contingency_margin:
                  type: number
                  description: Margin based on options short position.
        with_buy:
          type: object
          properties:
            required_margin:
              type: number
              description: Total required margin for account with the order inserted
                as buy.
            underlying:
              type: object
              properties:
                underlying:
                  type: string
                  description: Underlying index name.
                required_margin:
                  type: number
                  description: Total margin required for positions with this underlying.
                loss_margin:
                  type: number
                  description: Margin based on scenario loss coverage.
                roll_contingency_margin:
                  type: number
                  description: Margin based on roll position.
                d1_roll_contingency_margin:
                  type: number
                  description: Margin based on delta one roll position.
                options_roll_contingency_margin:
                  type: number
                  description: Margin based on options roll position.
                options_contingency_margin:
                  type: number
                  description: Margin based on options short position.
        with_sell:
          type: object
          properties:
            required_margin:
              type: number
              description: Total required margin for account with the order inserted
                as sell.
            underlying:
              type: object
              properties:
                underlying:
                  type: string
                  description: Underlying index name.
                required_margin:
                  type: number
                  description: Total margin required for positions with this underlying.
                loss_margin:
                  type: number
                  description: Margin based on scenario loss coverage.
                roll_contingency_margin:
                  type: number
                  description: Margin based on roll position.
                d1_roll_contingency_margin:
                  type: number
                  description: Margin based on delta one roll position.
                options_roll_contingency_margin:
                  type: number
                  description: Margin based on options roll position.
                options_contingency_margin:
                  type: number
                  description: Margin based on options short position.
      example:
        current:
          required_margin: -155.90231262790033
          underlying:
            required_margin: -155.90231262790033
            underlying: BTCUSD
            loss_margin: -155.90231262790033
            roll_contingency_margin: 151.54255212726002
            d1_roll_contingency_margin: 151.54255212726002
            options_roll_contingency_margin: 151.54255212726002
            options_contingency_margin: 57.27288000000001
        with_buy:
          required_margin: -155.90231262790033
          underlying:
            required_margin: -155.90231262790033
            underlying: BTCUSD
            loss_margin: -155.90231262790033
            roll_contingency_margin: 151.54255212726002
            d1_roll_contingency_margin: 151.54255212726002
            options_roll_contingency_margin: 151.54255212726002
            options_contingency_margin: 57.27288000000001
        with_sell:
          required_margin: -155.90231262790033
          underlying:
            required_margin: -155.90231262790033
            underlying: BTCUSD
            loss_margin: -155.90231262790033
            roll_contingency_margin: 151.54255212726002
            d1_roll_contingency_margin: 151.54255212726002
            options_roll_contingency_margin: 151.54255212726002
            options_contingency_margin: 57.27288000000001
paths:
  /private/insert:
    post:
      operationId: rest_private/insert
      tags:
      - Trading
      summary: Insert order
      description: 'Exchange: `https://thalex.com/api/v2/private/insert`


        Testnet: `https://testnet.thalex.com/api/v2/private/insert`


        Insert an order'
      requestBody:
        content:
          application/json:
            schema:
              allOf:
              - type: object
                required:
                - direction
                properties:
                  direction:
                    type: string
                    enum:
                    - buy
                    - sell
              - $ref: '#/components/schemas/InsertRequest'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/OrderStatus'
                      example: &id001
                        order_id: '1728379719872'
                        time_in_force: good_till_cancelled
                        instrument_name: BTC-PERPETUAL
                        price: 45000
                        amount: 1.1
                        order_type: limit
                        direction: buy
                        filled_amount: 0
                        remaining_amount: 1.1
                        status: open
                        fills: []
                        change_reason: insert
                        insert_reason: client_request
                  example:
                    result: *id001
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/buy:
    post:
      operationId: rest_private/buy
      tags:
      - Trading
      summary: Insert buy order
      description: 'Exchange: `https://thalex.com/api/v2/private/buy`


        Testnet: `https://testnet.thalex.com/api/v2/private/buy`


        Insert buy order'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InsertRequest'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/OrderStatus'
                      example: &id002
                        order_id: '1728379719872'
                        time_in_force: good_till_cancelled
                        instrument_name: BTC-PERPETUAL
                        price: 45000
                        amount: 1.1
                        order_type: limit
                        direction: buy
                        filled_amount: 0
                        remaining_amount: 1.1
                        status: open
                        fills: []
                        change_reason: insert
                        insert_reason: client_request
                  example:
                    result: *id002
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/sell:
    post:
      operationId: rest_private/sell
      tags:
      - Trading
      summary: Insert sell order
      description: 'Exchange: `https://thalex.com/api/v2/private/sell`


        Testnet: `https://testnet.thalex.com/api/v2/private/sell`


        Insert sell order'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InsertRequest'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/OrderStatus'
                      example: &id003
                        order_id: '1728379719872'
                        time_in_force: good_till_cancelled
                        instrument_name: BTC-PERPETUAL
                        price: 45000
                        amount: 1.1
                        order_type: limit
                        direction: sell
                        filled_amount: 0
                        remaining_amount: 1.1
                        status: open
                        fills: []
                        change_reason: insert
                        insert_reason: client_request
                  example:
                    result: *id003
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/amend:
    post:
      operationId: rest_private/amend
      tags:
      - Trading
      summary: Amend order
      description: 'Exchange: `https://thalex.com/api/v2/private/amend`


        Testnet: `https://testnet.thalex.com/api/v2/private/amend`


        Note that `amount` designates the new "original" amount, i.e. the amend is

        volume-safe. If the specified amount is lower than the already executed amount,

        the order is deleted.


        If the price of the order is the same as the previous price, and the amount
        is

        less than the previous amount, book priority is preserved.


        If the `amount` is amended to a value at or below the executed amount, the
        order is cancelled.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - price
              - amount
              properties:
                client_order_id:
                  type: integer
                  description: Exactly one of `client_order_id` or `order_id` must
                    be specified.
                order_id:
                  type: string
                  description: Exactly one of `client_order_id` or `order_id` must
                    be specified.
                price:
                  type: number
                amount:
                  type: number
                collar:
                  type: string
                  enum:
                  - ignore
                  - reject
                  - clamp
                  description: 'If the instrument has a safety price collar set, and
                    the new limit price

                    is in cross with (more aggressive than) this collar,

                    how to handle. If set to `ignore`, the amend will proceed as requested.
                    If `reject`,

                    the request fails early. If `clamp`, the price is adjusted to
                    the collar.


                    The default is `reject`.

                    '
              example:
                order_id: '1728379719872'
                price: 40000
                amount: 1.1
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/OrderStatus'
                      example: &id004
                        order_id: '1728379719872'
                        time_in_force: good_till_cancelled
                        instrument_name: BTC-PERPETUAL
                        price: 40000
                        amount: 1.1
                        order_type: limit
                        direction: sell
                        filled_amount: 0
                        remaining_amount: 1.1
                        status: open
                        fills: []
                        change_reason: amend
                        insert_reason: client_request
                  example:
                    result: *id004
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/cancel:
    post:
      operationId: rest_private/cancel
      tags:
      - Trading
      summary: Cancel order
      description: 'Exchange: `https://thalex.com/api/v2/private/cancel`


        Testnet: `https://testnet.thalex.com/api/v2/private/cancel`


        Cancel order'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                client_order_id:
                  type: integer
                  description: Exactly one of `client_order_id` or `order_id` must
                    be specified.
                order_id:
                  type: string
                  description: Exactly one of `client_order_id` or `order_id` must
                    be specified.
              example:
                order_id: '1728379719872'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/OrderStatus'
                      example: &id005
                        order_id: '1728379719872'
                        time_in_force: good_till_cancelled
                        instrument_name: BTC-PERPETUAL
                        price: 40000
                        amount: 1.1
                        order_type: limit
                        direction: sell
                        filled_amount: 0
                        remaining_amount: 1.1
                        status: cancelled
                        fills: []
                        change_reason: cancel
                        insert_reason: client_request
                        delete_reason: client_cancel
                        close_time: 1702583649.379417
                  example:
                    result: *id005
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/cancel_all:
    post:
      operationId: rest_private/cancel_all
      tags:
      - Trading
      summary: Bulk cancel all orders
      description: 'Exchange: `https://thalex.com/api/v2/private/cancel_all`


        Testnet: `https://testnet.thalex.com/api/v2/private/cancel_all`


        Cancels all orders for the account. This may *not* match new orders in flight

        (see `private/cancel_session`).

        '
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmptyObject'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: number
                      description: The number of orders successfully deleted.
                      example: 42
                  example:
                    result: 42
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/conditional_orders:
    get:
      operationId: rest_private/conditional_orders
      tags:
      - Conditional orders
      summary: Conditional orders
      description: 'Exchange: `https://thalex.com/api/v2/private/conditional_orders`


        Testnet: `https://testnet.thalex.com/api/v2/private/conditional_orders`


        Get conditional orders'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      description: 'List of conditional orders, both active and formerly
                        active. After

                        activation, conditional orders may be listed for another few
                        days.

                        '
                      items:
                        $ref: '#/components/schemas/ConditionalOrder'
                      example: &id006
                        result:
                        - order_id: 00011E570000004B
                          instrument_name: BTC-PERPETUAL
                          direction: buy
                          amount: 1
                          stop_price: 50000
                          limit_price: 45000
                          status: created
                          create_time: 1630062311.3324597
                          update_time: 1630062311.3324597
                          reduce_only: false
                  example:
                    result: *id006
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/create_conditional_order:
    post:
      operationId: rest_private/create_conditional_order
      tags:
      - Conditional orders
      summary: Create conditional order
      description: "Exchange: `https://thalex.com/api/v2/private/create_conditional_order`\n\
        \nTestnet: `https://testnet.thalex.com/api/v2/private/create_conditional_order`\n\
        \nA buy order will activate when a trade/mark/index happens at a price at\
        \ or higher than the stop price, or at or lower than the\nbracket price (if\
        \ set). A sell order will activate when a trigger happens at a price at or\
        \ lower than the stop price, or\nat or higher than the bracket price (if set).\n\
        \nWhen a callback rate is set, the stop price for a buy order will trail down\
        \ at (trade price * (1 + callback rate)), and\nfor a sell order the stop price\
        \ will trail up at (trade price * (1 - callback rate)).\n\nA stop limit order\
        \ will activate to a good-till-cancelled limit order, all other types will\
        \ activate to a market order.\n\nThe `last` trigger target tracks aggressive\
        \ trades in the instrument. The `mark` target tracks the mark price of\nthe\
        \ instrument, as calculated every second by the Thalex pricing engine. The\
        \ `index` trigger target is allowed\nonly for futures (instrument type `perpetual`\
        \ or `future`), and tracks the index price of the respective\nunderlying,\
        \ as calculated every second by the Thalex pricing engine.\n\nOnly the following\
        \ combinations are possible:\n\n* stop order: set only stop price\n* stop\
        \ limit order: set stop price and limit price\n* bracket order: set stop price\
        \ and bracket price. For a buy order, the bracket price must be under the\
        \ stop price, and\n  for a sell order the other way around.\n* trailing stop\
        \ loss order: set stop price and callback rate.\n"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - direction
              - instrument_name
              - amount
              - stop_price
              properties:
                direction:
                  type: string
                  enum:
                  - buy
                  - sell
                instrument_name:
                  type: string
                amount:
                  type: number
                limit_price:
                  type: number
                  description: If set, creates a stop limit order
                target:
                  type: string
                  enum:
                  - last
                  - mark
                  - index
                  description: The trigger target that `stop_price` and `bracket_price`
                    refer to.
                stop_price:
                  type: number
                  description: Trigger price
                bracket_price:
                  type: number
                  description: If set, creates a bracket order
                trailing_stop_callback_rate:
                  type: number
                  description: If set, creates a trailing stop order
                label:
                  type: string
                  description: Label will be set on the activated order
                reduce_only:
                  type: boolean
                  description: Activated order will be reduce-only
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/ConditionalOrder'
                      example: &id007
                        order_id: 00011E570000004B
                        instrument_name: BTC-PERPETUAL
                        direction: buy
                        amount: 1
                        stop_price: 50000
                        limit_price: 45000
                        status: created
                        create_time: 1630062311.3324597
                        update_time: 1630062311.3324597
                        reduce_only: false
                        target: mark
                  example:
                    result: *id007
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/cancel_conditional_order:
    post:
      operationId: rest_private/cancel_conditional_order
      tags:
      - Conditional orders
      summary: Cancel conditional order
      description: 'Exchange: `https://thalex.com/api/v2/private/cancel_conditional_order`


        Testnet: `https://testnet.thalex.com/api/v2/private/cancel_conditional_order`


        Cancel conditional order'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - order_id
              properties:
                order_id:
                  type: string
              example:
                order_id: 00011E570000004B
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/cancel_all_conditional_orders:
    post:
      operationId: rest_private/cancel_all_conditional_orders
      tags:
      - Conditional orders
      summary: Bulk cancel conditional orders
      description: 'Exchange: `https://thalex.com/api/v2/private/cancel_all_conditional_orders`


        Testnet: `https://testnet.thalex.com/api/v2/private/cancel_all_conditional_orders`


        Cancel all conditional orders of this subaccount'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmptyObject'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/bots:
    get:
      operationId: rest_private/bots
      tags:
      - Bot management
      summary: Get bots
      description: 'Exchange: `https://thalex.com/api/v2/private/bots`


        Testnet: `https://testnet.thalex.com/api/v2/private/bots`


        Get bots'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      description: 'List of bots, both active and formerly active.

                        Bots may be listed for another few days after they''re stopped.

                        '
                      items:
                        $ref: '#/components/schemas/Bot'
                      example: &id008
                      - strategy: sgsl
                        status: active
                        bot_id: 0000000035832FDE
                        instrument_name: BTC-PERPETUAL
                        signal: index
                        entry_price: 100050
                        target_position: 0.2
                        exit_price: 100000
                        exit_position: 0
                        end_time: 1740064912
                      - strategy: ocq
                        status: stopped
                        stop_reason: client_cancel
                        bot_id: 0000000035832FDF
                        instrument_name: BTC-PERPETUAL
                        signal: index
                        bid_offset: -50
                        ask_offset: 120
                        quote_size: 0.1
                        min_position: -0.3
                        max_position: 0.25
                        end_time: 1740064912
                  example:
                    result: *id008
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/create_bot:
    post:
      operationId: rest_private/create_bot
      tags:
      - Bot management
      summary: Create a bot
      description: 'Exchange: `https://thalex.com/api/v2/private/create_bot`


        Testnet: `https://testnet.thalex.com/api/v2/private/create_bot`


        Instantiate a bot that keeps continually trading in your name according to
        a predefined strategy.

        See [the bot strategies section](#tag/bot_strategies) for more info on bots.

        For risk fencing reasons and because of the complex ways manual trades can
        interact with bot strategies,

        you might want to consider running bots on a separate/dedicated sub account.

        Also be aware that you can set up bots with different strategies in a way
        that they would end up trading with each other.

        '
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - title: SGSL
                type: object
                required:
                - strategy
                - instrument_name
                - entry_price
                - target_position
                - exit_price
                - exit_position
                - end_time
                - signal
                properties:
                  strategy:
                    type: string
                    description: Equal to "sgsl"
                  instrument_name:
                    type: string
                    description: Name of the instrument to run SGSL on.
                  signal:
                    type: string
                    enum:
                    - last
                    - index
                    - mark
                  entry_price:
                    type: number
                    description: 'Price to compare `signal` price to, to determine
                      necessary adjustments to the portfolio.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      Must be greater or equal to `exit_price + 5 * price tick of
                      the instrument`.

                      '
                  target_position:
                    type: number
                    description: 'The target position to maintain in the subaccount
                      if `signal` price is above `entry_price`.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      Can be maximum `500 * volume tick of the instrument` away from
                      `exit_position`.

                      '
                  exit_price:
                    type: number
                    description: 'Price to compare `signal` price to, to determine
                      necessary adjustments to the portfolio.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      Must be lower or equal to `entry_price - 5 * price tick of the
                      instrument`.

                      '
                  exit_position:
                    type: number
                    description: 'The target position to maintain in the subaccount
                      if `signal` price is below `exit_price`.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      Can be maximum `500 * volume tick of the instrument` away from
                      `target_position`.

                      '
                  max_slippage:
                    type: number
                    description: Maximum slippage per trade, expressed as % of the
                      traded instruments mark price.
                  end_time:
                    type: number
                    description: 'Timestamp when the bot should stop executing. Must
                      not be further away than a week.

                      When `end_time` is reached, the bot will leave all positions
                      intact, it will not open/close any of them.

                      '
                  label:
                    type: string
                    description: A label that the bot will add to all orders for easy
                      identification.
                example:
                  strategy: sgsl
                  instrument_name: BTC-PERPETUAL
                  signal: index
                  entry_price: 100050
                  target_position: 0.2
                  exit_price: 100000
                  exit_position: 0
                  end_time: 1740064912
              - title: OCQ
                type: object
                required:
                - strategy
                - instrument_name
                - bid_offset
                - ask_offset
                - signal
                - quote_size
                - min_position
                - max_position
                - end_time
                properties:
                  strategy:
                    type: string
                    description: Equal to "ocq".
                  instrument_name:
                    type: string
                    description: Name of the instrument to run the One Click Quoter
                      on.
                  signal:
                    type: string
                    enum:
                    - index
                    - mark
                  bid_offset:
                    type: number
                    description: 'The offset of the price of the bid quote from the
                      signal price.

                      Must be smaller than `ask_offset`.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  ask_offset:
                    type: number
                    description: 'The offset of the price of the ask quote from the
                      signal price.

                      Must be greater than `bid_offset`.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  exit_offset:
                    type: number
                    description: 'Optional offset of the price of the exit quote from
                      the signal price.

                      Must be between `bid_offset` and `ask_offset`.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  quote_size:
                    type: number
                    description: 'The default size of both the bid and ask quote.
                      Must not be greater than 250 volume ticks.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  min_position:
                    type: number
                    description: 'The minimum portfolio position to maintain in the
                      subaccount.

                      Must be smaller than `max_position`.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  max_position:
                    type: number
                    description: 'The maximum portfolio position to maintain in the
                      subaccount.

                      Must be greater than `min_position`.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  target_position:
                    type: number
                    description: 'Optional portfolio position to maintain in the subaccount.

                      Must be between `min_position` and `max_position`.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  end_time:
                    type: number
                    description: 'Timestamp when the bot should stop executing. Must
                      not be further away than a week.

                      When `end_time` is reached, the bot will leave all positions
                      intact, it will not open/close any of them.

                      '
                  label:
                    type: string
                    description: A label that the bot will add to all orders for easy
                      identification.
                example:
                  strategy: ocq
                  instrument_name: BTC-PERPETUAL
                  signal: index
                  bid_offset: -50
                  ask_offset: 100
                  quote_size: 0.1
                  min_position: 0
                  max_position: 0.3
                  end_time: 1740064912
              - title: Levels
                type: object
                required:
                - strategy
                - instrument_name
                - bids
                - asks
                - step_size
                - upside_exit_price
                - downside_exit_price
                - end_time
                properties:
                  strategy:
                    type: string
                    description: Equal to "levels".
                  instrument_name:
                    type: string
                    description: Name of the instrument to run the Levels bot on.
                  bids:
                    type: array
                    items:
                      type: number
                    description: 'The default price levels the bot will be bidding
                      at.

                      Must not contain more than 5 levels.

                      Distance between levels must be at least 2 ticks, at most 100
                      ticks.

                      Best bid and best ask must be at least 10 ticks apart for options
                      and 50 ticks apart for everything else.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  asks:
                    type: array
                    items:
                      type: number
                    description: 'The default price levels the bot will be quoting
                      on the ask side.

                      Must not contain more than 5 levels.

                      Distance between levels must be at least 2 ticks, at most 100
                      ticks.

                      Best bid and best ask must be at least 10 ticks apart for options
                      and 50 ticks apart for everything else.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  step_size:
                    type: number
                    description: 'The default size to quote on one level.

                      Must nut be greater than 100 volume ticks of the instrument.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  base_position:
                    type: number
                    description: 'Will be used as a reference to compare the subaccount''s
                      portfolio position in the instrument that this bot is trading
                      to.

                      Defaults to the portfolio position of the subaccount in `instrument_name`
                      at the time of sending the request.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  upside_exit_price:
                    type: number
                    description: 'If the mark price of the instrument this bot is
                      trading goes above `upside_exit_price`,

                      the bot cancels the maker orders, aggressively trades into `base_position`,
                      and then stops executing.

                      Must not be more than 200 ticks away from highest ask.

                      '
                  downside_exit_price:
                    type: number
                    description: 'If the mark price of the instrument this bot is
                      trading goes below `downside_exit_price`,

                      the bot cancels the maker orders, aggressively trades into `base_position`,
                      and then stops executing.

                      Must not be more than 200 ticks away from lowest bid.

                      '
                  max_slippage:
                    type: number
                    description: Maximum slippage per trade when exiting any position,
                      expressed as % of the traded instruments mark price.
                  end_time:
                    type: number
                    description: 'Timestamp when the bot should stop executing. Must
                      not be further away than a week.

                      When `end_time` is reached, the bot will leave all positions
                      intact, it will not open/close any of them.

                      '
                  label:
                    type: string
                    description: A label that the bot will add to all orders for easy
                      identification.
                example:
                  strategy: levels
                  instrument_name: BTC-PERPETUAL
                  bids:
                  - 104300
                  asks:
                  - 104500
                  - 104700
                  step_size: 0.1
                  upside_exit_price: 104800
                  downside_exit_price: 104200
                  end_time: 1740064912
              - title: Grid
                type: object
                required:
                - strategy
                - instrument_name
                - grid
                - step_size
                - upside_exit_price
                - downside_exit_price
                - end_time
                properties:
                  strategy:
                    type: string
                    description: Equal to "grid".
                  instrument_name:
                    type: string
                    description: Name of the instrument to run the Grid bot on.
                  grid:
                    type: array
                    items:
                      type: number
                    description: The default price levels the bot will be quoting
                      at. Must have minimum 2, maximum 8 levels. Distance between
                      quote levels must minimum 5, maximum 100 ticks. See [the bot
                      strategies section](#tag/bot_strategies) for more explanation.
                  step_size:
                    type: number
                    description: 'The default size to quote on one level.

                      Must not be greater than 100 volume ticks.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  base_position:
                    type: number
                    description: 'Will be used as a reference to compare the subaccount''s
                      portfolio position in the instrument that this bot is trading
                      to.

                      Defaults to the portfolio position of the subaccount in `instrument_name`
                      at the time of sending the request.

                      See [the bot strategies section](#tag/bot_strategies) for more
                      explanation.

                      '
                  upside_exit_price:
                    type: number
                    description: 'If the mark price of the instrument this bot is
                      trading goes above `upside_exit_price`,

                      the bot cancels the maker orders, aggressively trades into `base_position`,
                      and then stops executing.

                      Must not be more than 200 ticks away from highest quote.

                      '
                  downside_exit_price:
                    type: number
                    description: 'If the mark price of the instrument this bot is
                      trading goes below `downside_exit_price`,

                      the bot cancels the maker orders, aggressively trades into `base_position`,
                      and then stops executing.

                      Must not be more than 200 ticks away from lowest quote.

                      '
                  max_slippage:
                    type: number
                    description: Maximum slippage per trade when exiting any position,
                      expressed as % of the traded instruments mark price.
                  end_time:
                    type: number
                    description: 'Timestamp when the bot should stop executing. Must
                      not be further away than a week.

                      When `end_time` is reached, the bot will leave all positions
                      intact, it will not open/close any of them.

                      '
                  label:
                    type: string
                    description: A label that the bot will add to all orders for easy
                      identification.
                example:
                  strategy: levels
                  instrument_name: BTC-PERPETUAL
                  grid:
                  - 104300
                  - 104500
                  - 104700
                  step_size: 0.1
                  upside_exit_price: 104800
                  downside_exit_price: 104200
                  end_time: 1740064912
              - title: DHedge
                type: object
                required:
                - strategy
                - instrument_name
                - period
                properties:
                  strategy:
                    type: string
                    description: Equal to "dhedge".
                  instrument_name:
                    type: string
                    description: 'Name of the instrument the bot will trade.

                      Must be an outright instrument with at least 0.25 delta.

                      '
                  position:
                    type: string
                    description: Name of an outright instrument. If specified, the
                      bot will only hedge the position in this instrument, not the
                      entire underlying.
                  target_delta:
                    type: number
                    description: Delta to target. Defaults to 0. Must be between -10
                      and 10.
                  threshold:
                    type: number
                    description: Hedging threshold. Defaults to 0. Must be between
                      0 and 0.3.
                  tolerance:
                    type: number
                    description: Maximum deviation allowed from target deltas at any
                      time.
                  period:
                    type: number
                    description: 'Number of seconds to let the deltas stay outside
                      of `[target-threshold, target+threshold]`, before hedging them.

                      Must be between 1 and 3600.

                      '
                  max_slippage:
                    type: number
                    description: Maximum slippage per trade, expressed as % of the
                      traded instruments mark price.
                  end_time:
                    type: number
                    description: 'Timestamp when the bot should stop executing.

                      If not specified, the bot will run until it''s manually stopped.

                      When `end_time` is reached, the bot will leave all positions
                      intact, it will not open/close any of them.

                      '
                  label:
                    type: string
                    description: A label that the bot will add to all orders for easy
                      identification.
                example:
                  strategy: dhedge
                  instrument_name: BTC-PERPETUAL
                  period: 1800,
              - title: DFollow
                type: object
                required:
                - strategy
                - instrument_name
                - target_instrument
                - target_amount
                - period
                - end_time
                properties:
                  strategy:
                    type: string
                    description: Equal to "dfollow".
                  instrument_name:
                    type: string
                    description: 'Name of the instrument to trade, in order to follow
                      the deltas of the target.

                      Must be an outright instrument with at least 0.25 delta.

                      '
                  target_instrument:
                    type: string
                    description: Name of the outright option to follow the deltas
                      of.
                  target_amount:
                    type: number
                    description: 'Amount of `target_instrument` contracts to follow
                      the deltas of.

                      Must be between 0.1 and 1000.

                      '
                  threshold:
                    type: number
                    description: Delta correction threshold. Defaults to 0. Must be
                      between 0 and 0.3.
                  tolerance:
                    type: number
                    description: Maximum deviation allowed from target deltas at any
                      time.
                  period:
                    type: number
                    description: 'Number of seconds to let the deltas of the following
                      position stay outside of `[target-threshold, target+threshold]`,

                      before correcting them, where `target = deltas of target_instrument
                      * target_amount`.

                      Must be between 1 and 3600.

                      '
                  max_slippage:
                    type: number
                    description: Maximum slippage per trade, expressed as % of the
                      traded instruments mark price.
                  end_time:
                    type: number
                    description: 'Timestamp when the bot should stop executing. Must
                      not be further away than a week.

                      When `end_time` is reached, the bot will leave all positions
                      intact, it will not open/close any of them.

                      '
                  label:
                    type: string
                    description: A label that the bot will add to all orders for easy
                      identification.
                example:
                  strategy: dfollow
                  instrument_name: BTC-24JUN25
                  target_instrument: BTC-24JUN25
                  target_amount: 1
                  threshold: 0.1
                  period: 30
                  end_time: 1740064912
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Bot'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/cancel_bot:
    post:
      operationId: rest_private/cancel_bot
      tags:
      - Bot management
      summary: Cancel a bot
      description: 'Exchange: `https://thalex.com/api/v2/private/cancel_bot`


        Testnet: `https://testnet.thalex.com/api/v2/private/cancel_bot`


        Cancel a specific bot instance.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - bot_id
              properties:
                bot_id:
                  type: string
                  description: The `bot_id` returned when creating the bot, or calling
                    `private/bots`.
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/cancel_all_bots:
    post:
      operationId: rest_private/cancel_all_bots
      tags:
      - Bot management
      summary: Cancel all bots
      description: 'Exchange: `https://thalex.com/api/v2/private/cancel_all_bots`


        Testnet: `https://testnet.thalex.com/api/v2/private/cancel_all_bots`


        Cancel all bots of this subaccount

        '
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Nothingness'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/portfolio:
    get:
      operationId: rest_private/portfolio
      tags:
      - Accounting
      summary: Portfolio
      description: 'Exchange: `https://thalex.com/api/v2/private/portfolio`


        Testnet: `https://testnet.thalex.com/api/v2/private/portfolio`


        Get account portfolio'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      description: Portfolio positions.
                      items:
                        $ref: '#/components/schemas/PortfolioEntry'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/open_orders:
    get:
      operationId: rest_private/open_orders
      tags:
      - Accounting
      summary: Open orders
      description: 'Exchange: `https://thalex.com/api/v2/private/open_orders`


        Testnet: `https://testnet.thalex.com/api/v2/private/open_orders`


        Get open orders'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      items:
                        $ref: '#/components/schemas/OrderStatus'
                      description: All currently open orders for the account.
                      example: &id009
                      - order_id: '1728379719872'
                        time_in_force: good_till_cancelled
                        instrument_name: BTC-PERPETUAL
                        price: 45000
                        amount: 1.1
                        order_type: limit
                        direction: buy
                        filled_amount: 0
                        remaining_amount: 1.1
                        status: open
                        fills: []
                        change_reason: insert
                        insert_reason: client_request
                  example:
                    result: *id009
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/order_history:
    get:
      operationId: rest_private/order_history
      tags:
      - Accounting
      summary: Order history
      description: 'Exchange: `https://thalex.com/api/v2/private/order_history`


        Testnet: `https://testnet.thalex.com/api/v2/private/order_history`


        Retrieves a list of past orders (i.e. orders that are not active anymore)
        since the last 90 days.

        Allows sorting and filtering by instrument name.


        Unfilled market maker orders are not included.


        Orders are like order status updates, without the `remaining_amount` field

        (always 0), and with a `close_time` timestamp. Note that, for technical reasons,

        the ''fills'' field in the order is limited to a length of 8. For a full list
        of

        trades, refer to trade history.


        Note that it is not real-time, data might appear with a slight delay.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      properties:
                        orders:
                          type: array
                          description: List of historical orders.
                          items:
                            $ref: '#/components/schemas/OrderHistory'
                        bookmark:
                          type: string
                          description: Bookmark to retrieve next page, or null (no
                            more results).
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: limit
        in: query
        schema:
          type: integer
          description: Max results to return.
          maximum: 1000
          default: 1000
        required: false
      - name: time_low
        in: query
        schema:
          type: number
          description: Start time (Unix timestamp) defaults to 90 days ago.
        required: false
      - name: time_high
        in: query
        schema:
          type: number
          description: End time (Unix timestamp) defaults to now.
        required: false
      - name: bookmark
        in: query
        schema:
          type: string
          description: Set to bookmark from previous call to get next page.
        required: false
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - ascending
          - descending
          description: Sort direction by order close_time. Defaults to `descending`
            (i.e. newest items first).
        required: false
      - name: instrument_names
        in: query
        schema:
          type: string
          description: Comma-separated list of instrument names to request order history
            for. If omitted, order history for all instruments is returned.
        required: false
      - name: bot_ids
        in: query
        schema:
          type: string
          description: Optional comma-separated list of bot IDs to request order history
            history for.
        required: false
  /private/trade_history:
    get:
      operationId: rest_private/trade_history
      tags:
      - Accounting
      summary: Trade history
      description: 'Exchange: `https://thalex.com/api/v2/private/trade_history`


        Testnet: `https://testnet.thalex.com/api/v2/private/trade_history`


        Retrieves trades for the last 90 days. Allows sorting and filtering by instrument
        name. Note that it is not real-time, trades might appear with a slight delay.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      properties:
                        trades:
                          type: array
                          description: List of trades.
                          items:
                            $ref: '#/components/schemas/Trade'
                        bookmark:
                          type: string
                          description: Bookmark to retrieve next page, or null (no
                            more results).
                      example: &id010
                        trades:
                        - order_id: 00011E570000004A
                          trade_id: 0080000000000000169F22D05B785A2B
                          instrument_name: BTC-PERPETUAL
                          direction: buy
                          price: 47280
                          amount: 0.1
                          label: ''
                          time: 1630059868.4145653
                          position_after: 1.1
                          trade_type: normal
                          leg_index: 0
                        - order_id: 00011E570000004B
                          trade_id: 0080000000000000169F20CE441AD986
                          instrument_name: BTC-PERPETUAL
                          direction: buy
                          price: 47260
                          amount: 1
                          label: ''
                          time: 1630057660.409371
                          position_after: 1
                          trade_type: normal
                          leg_index: 0
                  example:
                    result: *id010
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: limit
        in: query
        schema:
          type: integer
          description: Max results to return.
          maximum: 1000
          default: 1000
        required: false
      - name: time_low
        in: query
        schema:
          type: number
          description: Start time (Unix timestamp) defaults to 90 days ago.
        required: false
      - name: time_high
        in: query
        schema:
          type: number
          description: End time (Unix timestamp) defaults to now.
        required: false
      - name: bookmark
        in: query
        schema:
          type: string
          description: Set to bookmark from previous call to get next page.
        required: false
      - name: sort
        in: query
        schema:
          type: string
          enum:
          - ascending
          - descending
          description: Sort direction by trade time. Defaults to `descending` (i.e.
            newest trades first).
        required: false
      - name: instrument_names
        in: query
        schema:
          type: string
          description: Comma-separated list of instrument names to request trade history
            for. If omitted, trades for all instruments are returned.
        required: false
      - name: bot_ids
        in: query
        schema:
          type: string
          description: Optional comma-separated list of bot IDs to request trade history
            for.
        required: false
  /private/daily_mark_history:
    get:
      operationId: rest_private/daily_mark_history
      tags:
      - Accounting
      summary: Daily mark history
      description: 'Exchange: `https://thalex.com/api/v2/private/daily_mark_history`


        Testnet: `https://testnet.thalex.com/api/v2/private/daily_mark_history`


        For instruments that are subject to futures-style settlement we perform daily
        settlement at the mark price.

        The settlement procedure realizes the positional and perpetual funding profits/losses
        accumulated

        during the session, and resets the start price of the position to the mark
        price.


        This API endpoint returns a historical log of settled profits/losses (daily
        marks).

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      properties:
                        daily_marks:
                          type: array
                          description: List of daily marks.
                          items:
                            $ref: '#/components/schemas/DailyMark'
                        bookmark:
                          type: string
                          description: Bookmark to retrieve next page, or null (no
                            more results).
                      example: &id011
                        daily_marks:
                        - time: 1630059868.4145653
                          instrument_name: BTC-PERPETUAL
                          mark_price: 47280
                          position: 0.1
                          realized_position_pnl: 1220
                          realized_funding_pnl: 10
                        - time: 1630059868.4145653
                          instrument_name: BTC-27DEC24
                          mark_price: 48100
                          position: -0.5
                          realized_position_pnl: -405
                  example:
                    result: *id011
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: limit
        in: query
        schema:
          type: integer
          description: Max results to return.
          maximum: 1000
          default: 1000
        required: false
      - name: time_low
        in: query
        schema:
          type: number
          description: Start time (Unix timestamp) defaults to zero.
        required: false
      - name: time_high
        in: query
        schema:
          type: number
          description: End time (Unix timestamp) defaults to now.
        required: false
      - name: bookmark
        in: query
        schema:
          type: string
          description: Set to bookmark from previous call to get next page.
        required: false
  /private/transaction_history:
    get:
      operationId: rest_private/transaction_history
      tags:
      - Accounting
      summary: Transaction history
      description: 'Exchange: `https://thalex.com/api/v2/private/transaction_history`


        Testnet: `https://testnet.thalex.com/api/v2/private/transaction_history`


        Get transaction history'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - transactions
                      properties:
                        transactions:
                          type: array
                          description: List of transactions.
                          items:
                            type: object
                            required:
                            - asset
                            - time
                            - amount
                            - description
                            properties:
                              time:
                                type: number
                                description: 'Timestamp when the transaction was performed.


                                  For actions that produce multiple transactions (e.g.
                                  asset swaps, internal transfers), all transactions

                                  will have the same timestamp.

                                  '
                              asset:
                                type: string
                                description: Asset name.
                              amount:
                                type: number
                                description: Amount credited (positive number) or
                                  debited (negative number).
                              instrument_name:
                                type: string
                                description: 'Instrument name this transaction relates
                                  to. For example, settlement transactions are per
                                  instrument.


                                  Not included for transactions that don''t relate
                                  to an instrument.

                                  '
                              transaction_type:
                                type: string
                                enum:
                                - deposit
                                - withdrawal
                                - withdrawal fee
                                - session settlement
                                - perpetual funding
                                - internal transfer
                                - asset swap
                                - referral program payment
                                - market velocity program payment
                                - market quality program payment
                                - daily interest
                                description: 'Transaction type. Can be one of the
                                  following values:


                                  - `deposit` - Deposits and asset credits.

                                  - `withdrawal` - Withdrawals and asset debits.

                                  - `withdrawal fee` - Withdrawal fees.

                                  - `session settlement` - Settled session PNL.

                                  - `perpetual funding` - Settled perpetual funding.

                                  - `internal transfer` - Transfer of assets between
                                  sub-accounts. One transaction in each sub-account
                                  per asset per transfer.

                                  - `asset swap` - Swap between assets. One transaction
                                  for each side of the asset pair per swap.

                                  - `referral program payment` - Referral program
                                  rewards.

                                  - `market velocity program payment` - MVP program
                                  rewards.

                                  - `market quality program payment` - MQP program
                                  rewards.

                                  - `daily interest` - Daily penalty charge for negative
                                  balance. Not applied anymore, but can be found in
                                  historical transactions.

                                  '
                              description:
                                type: string
                                description: 'Description of this transaction.


                                  Note that this field is not supposed to be machine-readable
                                  and the the format is not guaranteed to remain unchanged.

                                  '
                              balance_after:
                                type: number
                                description: Account balance in this asset right after
                                  transaction.
                        bookmark:
                          type: string
                          description: Bookmark to retrieve next page, or null (no
                            more results).
                      example: &id012
                        transactions:
                        - asset: USDT
                          time: 1629964800.012722
                          amount: -643.70276425
                          description: daily settlement USD -643.83220000 @ 1.000201
                          transaction_type: session settlement
                          instrument_name: BTC-PERPETUAL
                          balance_after: 1000000004483.9625
                  example:
                    result: *id012
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: limit
        in: query
        schema:
          type: integer
          description: Max results to return.
          maximum: 1000
          default: 1000
        required: false
      - name: time_low
        in: query
        schema:
          type: number
          description: Start time (Unix timestamp) defaults to zero.
        required: false
      - name: time_high
        in: query
        schema:
          type: number
          description: End time (Unix timestamp) defaults to now.
        required: false
      - name: bookmark
        in: query
        schema:
          type: string
          description: Set to bookmark from previous call to get next page.
        required: false
  /private/rfq_history:
    get:
      operationId: rest_private/rfq_history
      tags:
      - Accounting
      summary: RFQ history
      description: 'Exchange: `https://thalex.com/api/v2/private/rfq_history`


        Testnet: `https://testnet.thalex.com/api/v2/private/rfq_history`


        Retrieves a list of past RFQs for the account. Open RFQs are not incuded.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      properties:
                        rfqs:
                          type: array
                          description: List of RFQs.
                          items:
                            $ref: '#/components/schemas/Rfq'
                        bookmark:
                          type: string
                          description: Bookmark to retrieve next page, or null (no
                            more results).
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: limit
        in: query
        schema:
          type: integer
          description: Max results to return.
          maximum: 1000
          default: 1000
        required: false
      - name: time_low
        in: query
        schema:
          type: number
          description: Start time (Unix timestamp) defaults to zero.
        required: false
      - name: time_high
        in: query
        schema:
          type: number
          description: End time (Unix timestamp) defaults to now.
        required: false
      - name: bookmark
        in: query
        schema:
          type: string
          description: Set to bookmark from previous call to get next page.
        required: false
  /private/account_breakdown:
    get:
      operationId: rest_private/account_breakdown
      tags:
      - Accounting
      summary: Account breakdown
      description: 'Exchange: `https://thalex.com/api/v2/private/account_breakdown`


        Testnet: `https://testnet.thalex.com/api/v2/private/account_breakdown`


        Get account breakdown'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - portfolio
                      - cash
                      - unrealised_pnl
                      - cash_collateral
                      - margin
                      - required_margin
                      - remaining_margin
                      - session_realised_pnl
                      - realised_position_pnl
                      - realised_perpetual_funding
                      - session_fees
                      - account_number
                      properties:
                        account_number:
                          type: string
                          description: Account number
                        unrealised_pnl:
                          type: number
                          description: Total unrealised profit or loss.
                        cash_collateral:
                          type: number
                          description: Total margin based on cash holdings.
                        margin:
                          type: number
                          description: Total margin from unrealised P&L and cash holdings.
                        required_margin:
                          type: number
                          description: Required margin based on current position.
                        remaining_margin:
                          type: number
                          description: Difference between margin and required margin.
                        session_realised_pnl:
                          type: number
                          description: Total realised profit or loss in current session.
                        realised_position_pnl:
                          type: number
                          description: Position profit or loss in current session.
                        realised_perpetual_funding:
                          type: number
                          description: Realised perpetual funding profit or loss in
                            current session.
                        session_fees:
                          type: number
                          description: Fees paid in current session.
                        portfolio:
                          type: array
                          description: List of positions each with unrealised P&L.
                          items:
                            type: object
                            required:
                            - instrument_name
                            - position
                            - mark_price
                            - start_price
                            - average_price
                            - unrealised_pnl_positional
                            - unrealised_pnl_perpetual
                            - unrealised_pnl
                            - open_buy_amount
                            - open_sell_amount
                            - session_realised_pnl
                            - realised_position_pnl
                            - session_fees
                            properties:
                              instrument_name:
                                type: string
                              position:
                                type: number
                              mark_price:
                                type: number
                              start_price:
                                type: number
                              average_price:
                                type: number
                              unrealised_pnl_positional:
                                type: number
                              unrealised_pnl_perpetual:
                                type: number
                              unrealised_pnl:
                                type: number
                              realised_position_pnl:
                                type: number
                                description: Position profit or loss in current session.
                              open_buy_amount:
                                type: number
                              open_sell_amount:
                                type: number
                              session_realised_pnl:
                                type: number
                              session_position_pnl:
                                type: number
                              session_perpetual_funding:
                                type: number
                              session_fees:
                                type: number
                        cash:
                          type: array
                          description: List of cash holdings, for each relevant currency,
                            and how they contribute to margin.
                          items:
                            type: object
                            required:
                            - currency
                            - balance
                            - collateral_factor
                            - collateral_index_price
                            - applied_collateral
                            - transactable
                            properties:
                              currency:
                                type: string
                                description: Currency name.
                              balance:
                                type: number
                                description: Current balance in this currency.
                              collateral_factor:
                                type: number
                                description: The collateral quality of the asset i.e.
                                  the fraction of the asset that can be used as a
                                  collateral.
                              collateral_index_price:
                                type: number
                                description: 'Index price used to calculate collateral
                                  effect of this position.

                                  Can be `null` for assets that are not converted
                                  using an index, e.g. for stable coins.

                                  '
                              applied_collateral:
                                type: number
                                description: Total collateral effect of this position.
                              transactable:
                                type: boolean
                                description: If this flag is `true`, this currency
                                  can be deposited and withdrawn.
                      example: &id013
                        account_number: A123456789
                        portfolio:
                        - instrument_name: BTC-PERPETUAL
                          position: 1.1
                          mark_price: 47708.13763778502
                          start_price: 47261.81818181818
                          average_price: 47261.81818181818
                          unrealised_pnl_positional: 490.95140156352136
                          unrealised_pnl_perpetual: 0.05837153649983011
                          unrealised_pnl: 491.00977310002116
                          open_buy_amount: 0
                          open_sell_amount: 0
                          session_realised_pnl: -1.18
                          realised_position_pnl: 0
                          realised_perpetual_funding: 0
                          session_fees: 1.18
                        cash:
                        - currency: USDT
                          balance: 1000000004483.9625
                          collateral_factor: 1
                          collateral_index_price: null
                          applied_collateral: 1000000004483.9625
                          transactable: true
                        unrealised_pnl: 491.00977310002116
                        session_realised_pnl: -1.18
                        realised_position_pnl: 0
                        realised_perpetual_funding: 0
                        session_fees: 1.18
                        cash_collateral: 1000000004483.9625
                        margin: 1000000004994.1586
                        required_margin: 13123.880458333333
                        remaining_margin: 999999991870.2781
                  example:
                    result: *id013
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/account_summary:
    get:
      operationId: rest_private/account_summary
      tags:
      - Accounting
      summary: Account summary
      description: 'Exchange: `https://thalex.com/api/v2/private/account_summary`


        Testnet: `https://testnet.thalex.com/api/v2/private/account_summary`


        Get account summary'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/AccountSummary'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/required_margin_breakdown:
    get:
      operationId: rest_private/required_margin_breakdown
      tags:
      - Accounting
      summary: Margin breakdown
      description: 'Exchange: `https://thalex.com/api/v2/private/required_margin_breakdown`


        Testnet: `https://testnet.thalex.com/api/v2/private/required_margin_breakdown`


        Get margin breakdown'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/PortfolioMarginBreakdown'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/required_margin_for_order:
    get:
      operationId: rest_private/required_margin_for_order
      tags:
      - Accounting
      summary: Margin breakdown with order
      description: 'Exchange: `https://thalex.com/api/v2/private/required_margin_for_order`


        Testnet: `https://testnet.thalex.com/api/v2/private/required_margin_for_order`


        This method returns a lightweight breakdown of the account as it is, and also
        as if a hypothetical order of a given price and amount would be inserted on
        either side of the book.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/MarginBreakdownWithOrder'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: instrument_name
        in: query
        schema:
          type: string
          description: 'The name of the instrument of this hypothetical order with
            which the margin is to be broken down with.

            This field must not be present when requesting margin breakdown for a
            combination order. Use `legs` field instead.'
        required: false
      - name: legs
        in: query
        schema:
          type: array
          description: 'List of legs for a combination order.


            There must be at least two and at most four legs specified. All leg instruments
            must be distinct.


            Other constraints apply, please check trading information page on combination
            orders.


            This field must not be present when requesting margin breakdown for single-leg
            orders. Use `instrument_name` field instead.

            '
          items:
            type: object
            required:
            - instrument_name
            - quantity
            properties:
              instrument_name:
                type: string
              quantity:
                type: number
                description: Quantity for this leg. May be negative.
        required: false
      - name: price
        in: query
        schema:
          type: number
          description: The price of the hypothetical order.
        required: true
      - name: amount
        in: query
        schema:
          type: number
          description: The amount that would be traded.
        required: true
  /private/notifications_inbox:
    get:
      operationId: rest_private/notifications_inbox
      tags:
      - Notifications
      summary: Notifications inbox
      description: 'Exchange: `https://thalex.com/api/v2/private/notifications_inbox`


        Testnet: `https://testnet.thalex.com/api/v2/private/notifications_inbox`


        This method returns a list of latest notifications that were sent to the current
        user.

        The list only contains items for which the `inbox` preference is set` (either
        in user

        preferences, or by default).

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Notifications'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: limit
        in: query
        schema:
          type: integer
          description: Max results to return.
          default: 1000
        required: false
  /private/mark_inbox_notification_as_read:
    post:
      operationId: rest_private/mark_inbox_notification_as_read
      tags:
      - Notifications
      summary: Marking notification as read
      description: 'Exchange: `https://thalex.com/api/v2/private/mark_inbox_notification_as_read`


        Testnet: `https://testnet.thalex.com/api/v2/private/mark_inbox_notification_as_read`


        Mark a notification as read'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - notification_id
              properties:
                notification_id:
                  type: string
                  description: ID of the notification to mark.
                read:
                  type: boolean
                  description: Set to `true` to mark as read, `false` to mark as not
                    read.
                  default: true
              example:
                notification_id: 00000000000000A3
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/create_rfq:
    post:
      operationId: rest_private/create_rfq
      tags:
      - Request for Quote
      summary: Create a request for quote
      description: 'Exchange: `https://thalex.com/api/v2/private/create_rfq`


        Testnet: `https://testnet.thalex.com/api/v2/private/create_rfq`


        Creates a new RFQ. You do not have to indicate upfront whether you want to
        buy or sell this package. Indicate

        the full size of the package.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - legs
              properties:
                legs:
                  type: array
                  description: 'Specify any number of legs that you''d like to trade
                    in a single package. Leg amounts

                    may be positive (long) or negative (short), and must adhere to
                    the regular volume tick size for the

                    respective instrument. At least one leg must be long.

                    '
                  items:
                    type: object
                    required:
                    - instrument_name
                    - amount
                    properties:
                      instrument_name:
                        type: string
                        description: The leg instrument. Must be an outright instrument,
                          not a combination.
                      amount:
                        type: number
                        description: Amount to trade for this leg. Negative for short.
                label:
                  type: string
                  description: User label for this RFQ, which will be reflected in
                    eventual trades.
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Rfq'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/cancel_rfq:
    post:
      operationId: rest_private/cancel_rfq
      tags:
      - Request for Quote
      summary: Cancel an RFQ
      description: 'Exchange: `https://thalex.com/api/v2/private/cancel_rfq`


        Testnet: `https://testnet.thalex.com/api/v2/private/cancel_rfq`


        Cancels the indicated RFQ.'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - rfq_id
              properties:
                rfq_id:
                  type: string
                  description: The ID of the RFQ to be cancelled
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/trade_rfq:
    post:
      operationId: rest_private/trade_rfq
      tags:
      - Request for Quote
      summary: Trade an RFQ
      description: 'Exchange: `https://thalex.com/api/v2/private/trade_rfq`


        Testnet: `https://testnet.thalex.com/api/v2/private/trade_rfq`


        Trade on the quotes given. The requested amount is that of the original request.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - rfq_id
              - direction
              - limit_price
              properties:
                rfq_id:
                  type: string
                  description: The ID of the RFQ
                direction:
                  type: string
                  enum:
                  - buy
                  - sell
                  description: 'Whether to buy or sell. *Important*: this relates
                    to the combination as created by the system, *not* the

                    package as originally requested (although they should be equal).

                    '
                limit_price:
                  type: number
                  description: 'The maximum (for buy) or minimum (for sell) price
                    to trade at. This is the price for one combination, not

                    for the entire package.

                    '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - rfq_id
                      - direction
                      - price
                      - amount
                      - legs
                      properties:
                        rfq_id:
                          type: string
                          description: The RFQ traded.
                        direction:
                          type: string
                          enum:
                          - buy
                          - sell
                          description: 'The direction of the trade as requested.

                            '
                        price:
                          type: number
                          description: The trade price per combination.
                        amount:
                          type: number
                          description: The number of combinations traded.
                        legs:
                          type: array
                          description: The trades on the individual legs.
                          items:
                            type: object
                            required:
                            - instrument_name
                            - direction
                            - amount
                            properties:
                              instrument_name:
                                type: string
                              direction:
                                type: string
                                enum:
                                - buy
                                - sell
                                description: The trade direction for this leg.
                              amount:
                                type: number
                                description: The total amount traded on this leg.
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/open_rfqs:
    get:
      operationId: rest_private/open_rfqs
      tags:
      - Request for Quote
      summary: Open RFQs
      description: 'Exchange: `https://thalex.com/api/v2/private/open_rfqs`


        Testnet: `https://testnet.thalex.com/api/v2/private/open_rfqs`


        Retrieves a list of open RFQs created by this account.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      description: List of open RFQs.
                      items:
                        $ref: '#/components/schemas/Rfq'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/mm_rfqs:
    get:
      operationId: rest_private/mm_rfqs
      tags:
      - Request for Quote (MM)
      summary: Open RFQs
      description: 'Exchange: `https://thalex.com/api/v2/private/mm_rfqs`


        Testnet: `https://testnet.thalex.com/api/v2/private/mm_rfqs`


        Retrieves a list of open RFQs that this account has access to.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      description: List of open RFQs.
                      items:
                        $ref: '#/components/schemas/Rfq'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/mm_rfq_insert_quote:
    post:
      operationId: rest_private/mm_rfq_insert_quote
      tags:
      - Request for Quote (MM)
      summary: Quote on an RFQ
      description: 'Exchange: `https://thalex.com/api/v2/private/mm_rfq_insert_quote`


        Testnet: `https://testnet.thalex.com/api/v2/private/mm_rfq_insert_quote`


        Sends a new quote on the indicated RFQ. This does *not* remove any previous
        quote: any number of quotes may

        be active on either side. Note that if the session was set to non-persistent
        (cancel-on-disconnect), then

        this quote will also be non-persistent.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - rfq_id
              - direction
              - price
              - amount
              properties:
                rfq_id:
                  type: string
                  description: The ID of the RFQ this quote is for.
                client_order_id:
                  type: integer
                  description: 'Session-local identifier for this order. Only valid
                    for websocket sessions. If set, must be a

                    number between 0 and 2^64-1, inclusive. When using numbers larger
                    than 2^32, please beware of implicit

                    floating point conversions in some JSON libraries.

                    '
                direction:
                  type: string
                  enum:
                  - buy
                  - sell
                  description: 'The side of the quote.

                    '
                price:
                  type: number
                  description: Limit price for the quote (for one combination).
                amount:
                  type: number
                  description: 'Number of combinations to quote. Anything over the
                    requested amount will not be visible to the requester.

                    '
                label:
                  type: string
                  description: A label to attach to eventual trades.
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/RfqOrder'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/mm_rfq_amend_quote:
    post:
      operationId: rest_private/mm_rfq_amend_quote
      tags:
      - Request for Quote (MM)
      summary: Amend quote
      description: 'Exchange: `https://thalex.com/api/v2/private/mm_rfq_amend_quote`


        Testnet: `https://testnet.thalex.com/api/v2/private/mm_rfq_amend_quote`


        Change the amount and price of an existing quote.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - price
              - amount
              properties:
                client_order_id:
                  type: integer
                  description: Exactly one of `client_order_id` or `order_id` must
                    be specified.
                order_id:
                  type: string
                  description: Exactly one of `client_order_id` or `order_id` must
                    be specified.
                price:
                  type: number
                  description: Limit price for the quote (for one combination).
                amount:
                  type: number
                  description: 'Number of combinations to quote. Anything over the
                    requested amount will not be visible to the requester.

                    '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/RfqOrder'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/mm_rfq_delete_quote:
    post:
      operationId: rest_private/mm_rfq_delete_quote
      tags:
      - Request for Quote (MM)
      summary: Delete quote
      description: 'Exchange: `https://thalex.com/api/v2/private/mm_rfq_delete_quote`


        Testnet: `https://testnet.thalex.com/api/v2/private/mm_rfq_delete_quote`


        Deletes the indicated RFQ quote.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                client_order_id:
                  type: integer
                  description: Exactly one of `client_order_id` or `order_id` must
                    be specified.
                order_id:
                  type: string
                  description: Exactly one of `client_order_id` or `order_id` must
                    be specified.
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/mm_rfq_quotes:
    get:
      operationId: rest_private/mm_rfq_quotes
      tags:
      - Request for Quote (MM)
      summary: List of active quotes
      description: 'Exchange: `https://thalex.com/api/v2/private/mm_rfq_quotes`


        Testnet: `https://testnet.thalex.com/api/v2/private/mm_rfq_quotes`


        Retrieves a list of open RFQ quotes across all RFQs.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      items:
                        $ref: '#/components/schemas/RfqOrder'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /public/instruments:
    get:
      operationId: rest_public/instruments
      tags:
      - Market data
      summary: Active instruments
      description: 'Exchange: `https://thalex.com/api/v2/public/instruments`


        Testnet: `https://testnet.thalex.com/api/v2/public/instruments`


        Retrieves the list of currently active instruments.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      description: List of currently active instruments.
                      items:
                        $ref: '#/components/schemas/Instrument'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /public/all_instruments:
    get:
      operationId: rest_public/all_instruments
      tags:
      - Market data
      summary: All instruments
      description: 'Exchange: `https://thalex.com/api/v2/public/all_instruments`


        Testnet: `https://testnet.thalex.com/api/v2/public/all_instruments`


        Retrieves the list of all instruments that were active in the specified time
        interval.


        Note that the time interval cannot be larger than 3 days.


        You can also use `public/instrument` call to retrieve information about a
        specific instrument.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      description: List of all instruments that have not or only recently
                        expired.
                      items:
                        $ref: '#/components/schemas/Instrument'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: time_low
        in: query
        schema:
          type: number
          description: Start time (Unix timestamp) defaults to `time_high` - 3 days.
        required: false
      - name: time_high
        in: query
        schema:
          type: number
          description: End time (Unix timestamp) defaults to `now`.
        required: false
  /public/instrument:
    get:
      operationId: rest_public/instrument
      tags:
      - Market data
      summary: Single instrument
      description: 'Exchange: `https://thalex.com/api/v2/public/instrument`


        Testnet: `https://testnet.thalex.com/api/v2/public/instrument`


        Retrieves a singe instrument.


        Unlike `public/all_instruments`, this API endpoint allows retrieving information
        about instruments

        that have expired long time ago.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Instrument'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: instrument_name
        in: query
        schema:
          type: string
          description: Name of the instrument to query.
        required: true
  /public/ticker:
    get:
      operationId: rest_public/ticker
      tags:
      - Market data
      summary: Single ticker value
      description: 'Exchange: `https://thalex.com/api/v2/public/ticker`


        Testnet: `https://testnet.thalex.com/api/v2/public/ticker`


        Retrieves a single ticker for a single instrument. Please do *not* use this
        to repeatedly poll for data -- a websocket

        subscription is much more useful.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Ticker'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: instrument_name
        in: query
        schema:
          type: string
          description: Name of the instrument to query.
        required: true
  /public/index:
    get:
      operationId: rest_public/index
      tags:
      - Market data
      summary: Single index value
      description: 'Exchange: `https://thalex.com/api/v2/public/index`


        Testnet: `https://testnet.thalex.com/api/v2/public/index`


        Retrieves the index price for a single underlying. If needed repeatedly, please
        use the `price_index.<underlying>`

        websocket subscription.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Index'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: underlying
        in: query
        schema:
          type: string
          description: The underlying (e.g. `BTCUSD`).
        required: true
  /public/book:
    get:
      operationId: rest_public/book
      tags:
      - Market data
      summary: Single order book
      description: 'Exchange: `https://thalex.com/api/v2/public/book`


        Testnet: `https://testnet.thalex.com/api/v2/public/book`


        Retrieves aggregated price depth for a single instrument, with a maximum of
        5 levels. Please do *not* use this to

        poll for data -- a websocket subscription is more flexible and more useful.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - bids
                      - asks
                      - time
                      properties:
                        bids:
                          description: Bids (list of price, amount, outright-amount)
                          type: array
                          items:
                            type: array
                            items:
                              type: number
                        asks:
                          description: Asks (list of price, amount, outright-amount)
                          type: array
                          items:
                            type: array
                            items:
                              type: number
                        last:
                          description: Last traded price
                          type: number
                        time:
                          type: number
                          description: Time of the last recorded update to this order
                            book (Unix timestamp).
                      example: &id014
                        result:
                          bids:
                          - - 26490
                            - 0.001
                            - 0.001
                          asks: []
                          last: 26500
                          time: 1683901717.209106
                  example:
                    result: *id014
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: instrument_name
        in: query
        schema:
          type: string
          description: Name of the instrument to query.
        required: true
  /private/verify_withdrawal:
    get:
      operationId: rest_private/verify_withdrawal
      tags:
      - Wallet
      summary: Verify if withdrawal is possible
      description: 'Exchange: `https://thalex.com/api/v2/private/verify_withdrawal`


        Testnet: `https://testnet.thalex.com/api/v2/private/verify_withdrawal`


        This method is subject to withdrawal permissions.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - available_margin
                      - required_margin
                      properties:
                        available_margin:
                          type: number
                          description: Projected available margin after the withdrawal.
                        required_margin:
                          type: number
                          description: Projected required margin after the withdrawal.
                        fee:
                          type: number
                          description: Amount of fees withheld.
                        fee_asset:
                          type: string
                          description: Asset in which the withdrawal fees are withheld.
                        error:
                          type: object
                          description: 'In case such withdrawal is not possible, this
                            object contains an error code

                            and an error message describing why. Otherwise, `error`
                            is returned as `null`.

                            '
                          properties:
                            code:
                              type: number
                              description: Error code.
                            message:
                              type: string
                              description: Error message.
                      example: &id015
                        available_margin: 10045
                        required_margin: 5096
                        fee: 25
                        fee_asset: USDT
                        error: null
                  example:
                    result: *id015
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: asset_name
        in: query
        schema:
          type: string
          description: Asset name.
        required: true
      - name: amount
        in: query
        schema:
          type: number
          description: Amount to withdraw.
        required: true
      - name: target_address
        in: query
        schema:
          type: string
          description: Target address.
        required: true
  /private/withdraw:
    post:
      operationId: rest_private/withdraw
      tags:
      - Wallet
      summary: Withdraw assets
      description: 'Exchange: `https://thalex.com/api/v2/private/withdraw`


        Testnet: `https://testnet.thalex.com/api/v2/private/withdraw`


        This method is subject to withdrawal permissions.'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - asset_name
              - amount
              - target_address
              properties:
                asset_name:
                  type: string
                  description: Asset name.
                amount:
                  type: number
                  description: Amount to withdraw.
                target_address:
                  type: string
                  description: Target address.
                label:
                  type: string
                  description: Optional label to attach to the withdrawal request.
              example:
                asset_name: USDT
                amount: 100
                target_address: 1234xy2kgdygjrsqtzq2n0yrf2493p83kkfjhx01234
                label: For my new yacht
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/crypto_withdrawals:
    get:
      operationId: rest_private/crypto_withdrawals
      tags:
      - Wallet
      summary: Withdrawals
      description: 'Exchange: `https://thalex.com/api/v2/private/crypto_withdrawals`


        Testnet: `https://testnet.thalex.com/api/v2/private/crypto_withdrawals`


        List of withdrawals from the selected account. Includes all withdrawals: pending,
        executed, rejected etc.

        '
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: array
                      items:
                        type: object
                        required:
                        - currency
                        - amount
                        - target_address
                        - create_time
                        - state
                        properties:
                          currency:
                            type: string
                            description: Withdrawn currency symbol.
                          amount:
                            type: number
                            description: Amount of currency withdrawn.
                          target_address:
                            type: string
                            description: Target address, specific to blockchain used.
                          blockchain:
                            type: string
                            description: Blockchain used or this transaction.
                          transaction_hash:
                            type: string
                            description: Transaction hash on the used blockchain.
                          create_time:
                            type: number
                            description: Time when this withdrawal was requested (Unix
                              timestamp).
                          label:
                            type: string
                            description: Optional label attached to the withdrawal
                              request.
                          state:
                            type: string
                            description: Withdrawal transaction status.
                            enum:
                            - pending
                            - awaiting_confirmation
                            - executing
                            - executed
                            - rejected
                          remark:
                            type: string
                            description: Remark added by the exchange.
                          fee:
                            type: number
                            description: Amount of fees withheld.
                          fee_asset:
                            type: string
                            description: Asset in which the withdrawal fees are withheld.
                        example:
                        - currency: ETH
                          amount: 0.1
                          target_address: '0x12345767c60fb7867B85aA35F72411234'
                          blockchain: ethereum
                          transaction_hash: '0x123415543674a854df02f4ef8f5dbc04ee01b744ac0bc4123456'
                          create_time: 1632732292.7792032
                          label: It's not much, but it's honest work
                          state: executed
                          remark: COMPLETED - CONFIRMED
                          fee: 25
                          fee_asset: USDT
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/crypto_deposits:
    get:
      operationId: rest_private/crypto_deposits
      tags:
      - Wallet
      summary: Deposits
      description: 'Exchange: `https://thalex.com/api/v2/private/crypto_deposits`


        Testnet: `https://testnet.thalex.com/api/v2/private/crypto_deposits`


        Pending and confirmed deposits for the selected account.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - confirmed
                      - unconfirmed
                      properties:
                        confirmed:
                          type: array
                          description: List of confirmed deposits.
                          items:
                            $ref: '#/components/schemas/Deposit'
                        unconfirmed:
                          type: array
                          description: List of unconfirmed deposits.
                          items:
                            $ref: '#/components/schemas/Deposit'
                      example: &id016
                        confirmed:
                        - currency: ETH
                          blockchain: ethereum
                          transaction_hash: '0x1235467675550cad841c8b410f78e1d1d7cc256b6803234234534534'
                          transaction_timestamp: 1632217370
                          amount: 0.059
                          status: confirmed
                          confirmations: 6
                        unconfirmed: []
                  example:
                    result: *id016
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/btc_deposit_address:
    get:
      operationId: rest_private/btc_deposit_address
      tags:
      - Wallet
      summary: Bitcoin deposit address
      description: 'Exchange: `https://thalex.com/api/v2/private/btc_deposit_address`


        Testnet: `https://testnet.thalex.com/api/v2/private/btc_deposit_address`


        Get Bitcoin deposit address'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: string
                      example: 12345yr6zpguy7nrc8md63ykn5h9xr4vryl99r3wpz
                      description: Deposit address for the selected account for Bitcoin.
                  example:
                    result: 12345yr6zpguy7nrc8md63ykn5h9xr4vryl99r3wpz
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/eth_deposit_address:
    get:
      operationId: rest_private/eth_deposit_address
      tags:
      - Wallet
      summary: Ethereum deposit address
      description: 'Exchange: `https://thalex.com/api/v2/private/eth_deposit_address`


        Testnet: `https://testnet.thalex.com/api/v2/private/eth_deposit_address`


        Get Ethereum deposit address'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: string
                      example: '0x1235467675550cad841c8b410f78e1d1d7cc256b6803234234534534'
                      description: Deposit address for the selected account for coins
                        on Ethereum network.
                  example:
                    result: '0x1235467675550cad841c8b410f78e1d1d7cc256b6803234234534534'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /private/verify_internal_transfer:
    post:
      operationId: rest_private/verify_internal_transfer
      tags:
      - Wallet
      summary: Verify internal transfer
      description: 'Exchange: `https://thalex.com/api/v2/private/verify_internal_transfer`


        Testnet: `https://testnet.thalex.com/api/v2/private/verify_internal_transfer`


        Verify if internal transfer of assets and/or positions from source (currently
        selected) to destination

        account is possible. Does not perform the transfer itself.


        Transfers are subject to margin checks.


        A transfer cannot result in an account breaching margin requirements. This
        applies to both source

        and destination accounts.


        If either of the accounts is already in margin breach state, the transfer
        is only allowed if it results

        in an increase of available margin on that account. The other account must
        not breach margin requirement

        as a result of the transfer. This allows transferring assets and/or positions

        from an account with enough extra margin to an account that was margin called.


        Each transfer can contain multiple asset and position transfers. It is checked
        for margin requirements as a

        single transaction. It is possible to specify negative amounts for transferred
        assets and positions,

        which results in a reverse direction of transfer (i.e. from destination account
        to the source one).

        This allows performing asset/position exchange operations, and is helpful
        when a leg of such operation

        alone would result in a margin requirements breach.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - destination_account_number
              properties:
                destination_account_number:
                  type: string
                  description: Destination account number.
                assets:
                  type: array
                  items:
                    type: object
                    required:
                    - asset_name
                    - amount
                    properties:
                      asset_name:
                        type: string
                        description: Asset name
                      amount:
                        type: number
                        description: Amount to transfer. Use a negative value to transfer
                          in reverse direction.
                positions:
                  type: array
                  items:
                    type: object
                    required:
                    - instrument_name
                    - amount
                    properties:
                      instrument_name:
                        type: string
                        description: Instrument feedcode.
                      amount:
                        type: number
                        description: Amount to transfer. Use a negative value to transfer
                          in reverse direction.
              example:
                destination_account_number: A123456789
                assets:
                - asset_name: BTC
                  amount: '1'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - source_available_margin
                      - source_required_margin
                      - destination_available_margin
                      - destination_required_margin
                      properties:
                        source_available_margin:
                          type: number
                          description: Available margin in the source account after
                            the transfer is performed.
                        source_required_margin:
                          type: number
                          description: Required margin in the source account after
                            the transfer is performed.
                        destination_available_margin:
                          type: number
                          description: Available margin in the destination account
                            after the transfer is performed.
                        destination_required_margin:
                          type: number
                          description: Required margin in the destination account
                            after the transfer is performed.
                        error:
                          type: object
                          description: 'Only present when the transfer is not possible,
                            in which case it describes the error

                            such transfer would result in.


                            Note: this is different from the top level `result`/`error`
                            in the response.

                            '
                          required:
                          - code
                          - message
                          properties:
                            code:
                              type: number
                              description: Error code
                            message:
                              type: string
                              description: Error message
                      example: &id017
                        destination_available_margin: 10040724.221942985
                        destination_required_margin: 13021.147166650373
                        source_available_margin: 11987398962.727953
                        source_required_margin: 179870275.06509292
                        error:
                          code: 27
                          message: 'asset ''BTC'': insufficient funds for operation'
                  example:
                    result: *id017
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /private/internal_transfer:
    post:
      operationId: rest_private/internal_transfer
      tags:
      - Wallet
      summary: Internal transfer
      description: 'Exchange: `https://thalex.com/api/v2/private/internal_transfer`


        Testnet: `https://testnet.thalex.com/api/v2/private/internal_transfer`


        Transfer assets and/or positions from source (currently selected) to destination
        account.


        Transfers are subject to margin checks. Please see `private/verify_internal_transfer`
        method

        description for more information.

        '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - destination_account_number
              properties:
                destination_account_number:
                  type: string
                  description: Destination account number.
                assets:
                  type: array
                  items:
                    type: object
                    required:
                    - asset_name
                    - amount
                    properties:
                      asset_name:
                        type: string
                        description: Asset name
                      amount:
                        type: number
                        description: Amount to transfer. Use a negative value to transfer
                          in reverse direction.
                positions:
                  type: array
                  items:
                    type: object
                    required:
                    - instrument_name
                    - amount
                    properties:
                      instrument_name:
                        type: string
                        description: Instrument feedcode.
                      amount:
                        type: number
                        description: Amount to transfer. Use a negative value to transfer
                          in reverse direction.
                label:
                  type: string
                  description: Optional label attached to the transfer.
              example:
                destination_account_number: A123456789
                assets:
                - asset_name: BTC
                  amount: '1'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      $ref: '#/components/schemas/Nothingness'
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
  /public/system_info:
    get:
      operationId: rest_public/system_info
      tags:
      - System info
      summary: System info
      description: 'Exchange: `https://thalex.com/api/v2/public/system_info`


        Testnet: `https://testnet.thalex.com/api/v2/public/system_info`


        Get system info'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - banners
                      - environment
                      properties:
                        environment:
                          type: string
                          enum:
                          - testnet
                          - production
                        api_version:
                          type: string
                          description: Current API version.
                        banners:
                          type: array
                          description: 'List of banners currently shown.


                            Banners are ''sticky'' notifications visible to all users
                            of the exchange. They are used

                            e.g. for maintenance announcements etc.

                            '
                          items:
                            $ref: '#/components/schemas/Banner'
                      example: &id018
                        environment: production
                        api_version: 2.0.0
                        banners:
                        - id: 1
                          time: 1630059868.4145653
                          severity: info
                          title: Important information
                          message: Starting next week we are lowering our fees by
                            10%.
                  example:
                    result: *id018
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters: []
  /public/mark_price_historical_data:
    get:
      operationId: rest_public/mark_price_historical_data
      tags:
      - Historical data
      summary: Mark price historical data.
      description: 'Exchange: `https://thalex.com/api/v2/public/mark_price_historical_data`


        Testnet: `https://testnet.thalex.com/api/v2/public/mark_price_historical_data`


        Returns mark price historical data in the specified interval and resolution
        in OHLC format.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - instrument_type
                      - mark
                      properties:
                        instrument_type:
                          type: string
                          enum:
                          - perpetual
                          - future
                          - combination
                          - option
                          description: Instrument type the historical data corresponds
                            to.
                        mark:
                          description: 'Array of mark price data points. Each mark
                            price data point is an array of mark price data in OHLC
                            format followed by an optional array of top of book data.
                            Top of book data

                            is returned only for `1m` resolution and set to `null`
                            otherwise.


                            Note that the inner array format depends on the `instrument_type`
                            flag.


                            Note also that the top bid and top ask data can be set
                            to `null` for the `1m` resolution if there was no quote
                            at the start of the correspondent minute interval.

                            '
                          oneOf:
                          - type: array
                            title: Perpetuals
                            items:
                              type: array
                              title: Time, mark, funding payment, top bid, top ask
                              minItems: 7
                              maxItems: 7
                              prefixItems:
                              - type: number
                                description: Time (Unix timestamp) of the start of
                                  the data point.
                              - type: number
                                description: Open (first) value of the data point
                              - type: number
                                description: High (max) value of the data point.
                              - type: number
                                description: Low (min) value of the data point.
                              - type: number
                                description: Close (last) value of the data point.
                              - type: number
                                description: Funding payment during the interval represented
                                  by the data point.
                              - type: array
                                description: Top of book data, `null` for the resolutions
                                  other than 1 minute.
                                minItems: 4
                                maxItems: 4
                                prefixItems:
                                - type: number
                                  description: Top bid price, or `null` if bid order
                                    book is empty.
                                - type: number
                                  description: Top bid size, or `null` if bid order
                                    book is empty.
                                - type: number
                                  description: Top ask price, or `null` if ask order
                                    book is empty.
                                - type: number
                                  description: Top ask size, or `null` if ask order
                                    book is empty.
                          - type: array
                            title: Futures and combinations
                            items:
                              type: array
                              title: Time, mark, top bid, top ask
                              minItems: 6
                              maxItems: 6
                              prefixItems:
                              - type: number
                                description: Time (Unix timestamp) of the start of
                                  the data point.
                              - type: number
                                description: Open (first) value of the data point
                              - type: number
                                description: High (max) value of the data point.
                              - type: number
                                description: Low (min) value of the data point.
                              - type: number
                                description: Close (last) value of the data point.
                              - type: array
                                description: Top of book data, `null` for the resolutions
                                  other than 1 minute.
                                minItems: 4
                                maxItems: 4
                                prefixItems:
                                - type: number
                                  description: Top bid price, or `null` if bid order
                                    book is empty.
                                - type: number
                                  description: Top bid size, or `null` if bid order
                                    book is empty.
                                - type: number
                                  description: Top ask price, or `null` if ask order
                                    book is empty.
                                - type: number
                                  description: Top ask size, or `null` if ask order
                                    book is empty.
                          - type: array
                            title: Options
                            items:
                              type: array
                              title: Time, mark, iv, top bid, top ask
                              minItems: 10
                              maxItems: 10
                              prefixItems:
                              - type: number
                                description: Time (Unix timestamp) of the start of
                                  the data point.
                              - type: number
                                description: Open (first) value of the data point
                              - type: number
                                description: High (max) value of the data point.
                              - type: number
                                description: Low (min) value of the data point.
                              - type: number
                                description: Close (last) value of the data point.
                              - type: number
                                description: Open (first) IV value of the data point
                              - type: number
                                description: High (max) IV value of the data point.
                              - type: number
                                description: Low (min) IV value of the data point.
                              - type: number
                                description: Close (last) IV value of the data point.
                              - type: array
                                description: Top of book data, `null` for the resolutions
                                  other than 1 minute.
                                minItems: 4
                                maxItems: 4
                                prefixItems:
                                - type: number
                                  description: Top bid price, or `null` if bid order
                                    book is empty.
                                - type: number
                                  description: Top bid size, or `null` if bid order
                                    book is empty.
                                - type: number
                                  description: Top ask price, or `null` if ask order
                                    book is empty.
                                - type: number
                                  description: Top ask size, or `null` if ask order
                                    book is empty.
                        no_data:
                          type: boolean
                          description: Is set if there is no data for this instrument
                            in or before the requested interval.
                      example: &id019
                        instrument_type: perpetual
                        mark:
                        - - 1736363460
                          - 94700
                          - 94701
                          - 94445
                          - 94409
                          - 0.0002
                        - - 1736363520
                          - 94409
                          - 94600
                          - 94408
                          - 94500
                          - -0.00011
                  example:
                    result: *id019
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: instrument_name
        in: query
        schema:
          type: string
          description: Feedcode of the instrument (e.g. BTC-PERPETUAL).
        required: true
      - name: from
        in: query
        schema:
          type: number
          description: Start time (Unix timestamp).
        required: true
      - name: to
        in: query
        schema:
          type: number
          description: End time (Unix timestamp) (exclusive).
        required: true
      - name: resolution
        in: query
        schema:
          type: string
          enum:
          - 1m
          - 5m
          - 15m
          - 30m
          - 1h
          - 1d
          - 1w
          description: Each data point will be aggregated using OHLC according to
            the specified resolution.
        required: true
  /public/index_price_historical_data:
    get:
      operationId: rest_public/index_price_historical_data
      tags:
      - Historical data
      summary: Index price historical data.
      description: 'Exchange: `https://thalex.com/api/v2/public/index_price_historical_data`


        Testnet: `https://testnet.thalex.com/api/v2/public/index_price_historical_data`


        Returns index price historical data in the specified interval and resolution
        in OHLC format.'
      responses:
        '200':
          description: Successful HTTP call
          content:
            application/json:
              schema:
                oneOf:
                - title: Success
                  type: object
                  properties:
                    result:
                      type: object
                      required:
                      - index
                      properties:
                        index:
                          description: Array of arrays of index price data points
                            in OHLC format.
                          type: array
                          items:
                            type: array
                            minItems: 6
                            maxItems: 6
                            prefixItems:
                            - type: number
                              description: Time (Unix timestamp) of the start of the
                                data point.
                            - type: number
                              description: Open (first) value of the data point
                            - type: number
                              description: High (max) value of the data point.
                            - type: number
                              description: Low (min) value of the data point.
                            - type: number
                              description: Close (last) value of the data point.
                        no_data:
                          type: boolean
                          description: Is set if there is no data for this instrument
                            in or before the requested interval.
                      example: &id020
                        index:
                        - - 1736363460
                          - 94700
                          - 94701
                          - 94445
                          - 94409
                        - - 1736363520
                          - 94409
                          - 94600
                          - 94408
                          - 94500
                  example:
                    result: *id020
                - title: Error
                  $ref: '#/components/schemas/ErrorResponse'
      parameters:
      - name: index_name
        in: query
        schema:
          type: string
          description: Index name (e.g. BTCUSD, ETHUSD).
        required: true
      - name: from
        in: query
        schema:
          type: number
          description: Start time (Unix timestamp).
        required: true
      - name: to
        in: query
        schema:
          type: number
          description: End time (Unix timestamp) (exclusive).
        required: true
      - name: resolution
        in: query
        schema:
          type: string
          enum:
          - 1m
          - 5m
          - 15m
          - 30m
          - 1h
          - 1d
          - 1w
          description: Each data point will be aggregated using OHLC according to
            the specified resolution.
        required: true
